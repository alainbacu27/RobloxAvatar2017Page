;// bundle: page___91fd838f3cf9f2d6939abad2c7f13063_m
;// files: utilities/robloxAds.js, pageStyleNotifications.js, My/Avatar.js, My/avatarBodyColorDifference.js, angular/ui-bootstrap-0.11.2.js, ~/viewapp/common/rbxBootstrap.js, ~/viewapp/common/modal.js, ~/viewapp/widgets/cursorPagination/cursorPagination.js, ~/viewapp/pages/avatar/avatar.js, ~/viewapp/pages/avatar/constants/avatarConstants.js, ~/viewapp/pages/avatar/constants/avatarUrlConstants.js, ~/viewapp/widgets/cursorPagination/services/cursorPaginationService.js, ~/viewapp/common/services/cacheService.js, ~/viewapp/pages/avatar/services/avatarService.js, ~/viewapp/pages/avatar/filters/percentageFilter.js, ~/viewapp/pages/avatar/filters/roundFilter.js, ~/viewapp/widgets/cursorPagination/directives/cursorPaginationDirective.js, ~/viewapp/common/directives/infiniteScrollDirective.js, ~/viewapp/common/directives/stickToTopDirective.js, ~/viewapp/pages/avatar/directives/pageFocusDirective.js, ~/viewapp/pages/avatar/directives/onInputFinishedDirective.js, ~/viewapp/pages/avatar/directives/onBlurDirective.js, ~/viewapp/pages/avatar/directives/avatarItemsDirective.js, ~/viewapp/pages/avatar/controllers/avatarController.js, ~/viewapp/pages/avatar/controllers/avatarScaleController.js, ~/viewapp/pages/avatar/controllers/avatarTypeController.js, ~/viewapp/pages/avatar/controllers/avatarItemsController.js, ~/viewapp/pages/avatar/controllers/recentItemsController.js, ~/viewapp/pages/avatar/controllers/bodyColorsController.js, ~/viewapp/pages/avatar/controllers/outfitsController.js, ~/viewapp/common/constants/assetTypes.js, ~/viewapp/pages/recommendations/recommendations.js, ~/viewapp/pages/recommendations/controllers/recommendationsController.js, ~/viewapp/pages/recommendations/services/recommendationsPageService.js, utilities/popover.js, Navigation/ShopAmazon.js, GenericConfirmation.js, utilities/dialog.js, cookieLawNotice.js, TosModalCheck.js, AbuseReport/AbuseReportDispatcher.js

;// utilities/robloxAds.js
"use strict";var Roblox=Roblox||{};Roblox.AdsHelper=Roblox.AdsHelper||{},Roblox.AdsLibrary={},Roblox.AdsLibrary.adsIdList=["Skyscraper-Abp-Left","Skyscraper-Abp-Right","Leaderboard-Abp","GamePageAdDiv1","GamePageAdDiv2","GamePageAdDiv3","ProfilePageAdDiv1","ProfilePageAdDiv2"],Roblox.AdsLibrary.adsParameters={"Skyscraper-Abp-Left":{element:$("#Skyscraper-Abp-Left"),template:null,fitTwoAds:!0,fitOneAd:!1,isSkyscraper:!0},"Skyscraper-Abp-Right":{element:$("#Skyscraper-Abp-Right"),tempalte:null,fitTwoAds:!0,fitOneAd:!0,isSkyscraper:!0},"Leaderboard-Abp":{element:$("#Leaderboard-Abp"),tempalte:null,fitTwoAds:!0,fitOneAd:!0,isLeaderboard:!0},GamePageAdDiv1:{element:$("#GamePageAdDiv1"),template:null,isPageAd:!0},GamePageAdDiv2:{element:$("#GamePageAdDiv2"),template:null,isPageAd:!0},GamePageAdDiv3:{element:$("#GamePageAdDiv3"),template:null,isPageAd:!0},ProfilePageAdDiv1:{element:$("#ProfilePageAdDiv1"),template:null,isPageAd:!0},ProfilePageAdDiv2:{element:$("#ProfilePageAdDiv2"),template:null,isPageAd:!0}},Roblox.AdsHelper.AdRefresher=function(){function c(n){return!n||!$.trim($(n).html())}function h(n){t.push(n)}function s(){return googletag.pubadsReady}function r(n){var u,f,e,i;typeof n=="undefined"&&(n=v),u=!1;for(f in t){if(e="#"+t[f]+" [data-js-adtype]",i=$(e),typeof i=="undefined")return;if(i.attr("data-js-adtype")==="iframead")o(i);else if(i.attr("data-js-adtype")==="gptAd")if(s())u=!0;else if(n>0){setTimeout(function(){r(--n)},y);break}}u&&googletag.cmd.push(function(){googletag.pubads().refresh()})}function o(n){var i=n.attr("src"),r,u,t;typeof i=="string"&&(r=i.indexOf("?")<0?"?":"&",u=i+r+"nocache="+(new Date).getMilliseconds().toString(),typeof n[0]!="undefined")&&(t=n[0].contentDocument,t===undefined&&(t=n[0].contentWindow),t.location.href!=="about:blank"&&t.location.replace(u))}function n(n,t,i){i.length&&c(i)&&(i.append(n),r())}function b(){for(var u=$(window).width(),f,r,t,i=0;i<Roblox.AdsLibrary.adsIdList.length;i++)r=Roblox.AdsLibrary.adsIdList[i],t=Roblox.AdsLibrary.adsParameters[r],t&&!t.template&&(f=t.element,t.template=f.html());for(i=0;i<Roblox.AdsLibrary.adsIdList.length;i++)(r=Roblox.AdsLibrary.adsIdList[i],t=Roblox.AdsLibrary.adsParameters[r],t)&&(t.isSkyscraper?u>=e&&t.fitTwoAds?n(t.template,r,t.element):u<e&&u>=l?t.fitOneAd?n(t.template,r,t.element):t.element.empty():t.element.empty():t.isLeaderboard?u<p?t.element.empty():n(t.template,r,t.element):t.isPageAd&&(u<w?t.element.empty():n(t.template,r,t.element)))}var t=[],i=20,u=970,f=160,p=728,y=100,v=16,e=$("[data-max-width-for-two-ads]").attr("data-max-width-for-two-ads")||u+f*2+48-i,l=$("[data-max-width-for-one-ads]").attr("data-max-width-for-one-ads")||u+f+24-i,a=1024,w=a-i;return{registerAd:h,refreshAds:r,adjustAdsFitScreen:b,getAds:n}}(),Roblox.AdsHelper.DynamicAdCreator=function(){function n(){var n=$(".dynamic-ad").filter(".unpopulated");n.each(function(n,t){var i=$(t),u=i.attr("data-ad-slot"),f=parseInt(i.attr("data-ad-width")),e=parseInt(i.attr("data-ad-height")),r=i.children(".ad-slot").attr("id");googletag.cmd.push(function(){var n=googletag.defineSlot(u,[f,e],r).addService(googletag.pubads());googletag.display(r),googletag.pubads().refresh([n])}),i.removeClass("unpopulated")})}return{populateNewAds:n}}(),$(function(){$(window).resize(function(){Roblox.AdsHelper.AdRefresher.adjustAdsFitScreen()})});

;// pageStyleNotifications.js
$(function(){$(".pagification .pagification-showall, .pagification .pagification-collapse").click(function(){$(this).parents(".pagification-body").toggleClass("collapsed")})});

;// My/Avatar.js
Roblox=Roblox||{},Roblox.Avatar=function(){function f(){(i=$("#header"),r=10,t=$("#wrap"),n=$(".right-wrapper-placeholder"),n.length!==0)&&($(window).scroll(u),u())}function u(){var u=n[0].getBoundingClientRect().top,f=n.is(":visible"),e=i.height(),o=f&&u-e-r<0;o?t.addClass("pinned"):t.removeClass("pinned")}var i,r,t,n;$(function(){f()})}();

;// My/avatarBodyColorDifference.js
Roblox=Roblox||{},Roblox.AvatarBodyColorDifference=function(){function o(n,t){var i=u(n),r=u(t);return s(i,r)}function s(t,i){var et=1,d=1,nt=1,o=n(360),v=n(180),rt=Math.pow(25,7),lt=Math.sqrt(t.A*t.A+t.B*t.B),ft=Math.sqrt(i.A*i.A+i.B*i.B),it=(lt+ft)/2,tt=.5*(1-Math.sqrt(Math.pow(it,7)/(Math.pow(it,7)+rt))),l=(1+tt)*t.A,a=(1+tt)*i.A,h=Math.sqrt(l*l+t.B*t.B),y=Math.sqrt(a*a+i.B*i.B),e,f;t.B===0&&l===0?e=0:(e=Math.atan2(t.B,l),e<0&&(e+=o)),i.B===0&&a===0?f=0:(f=Math.atan2(i.B,a),f<0&&(f+=o));var at=i.L-t.L,g=y-h,r,k=h*y;k===0?r=0:(r=f-e,r<-v?r+=o:r>v&&(r-=o)),r=2*Math.sqrt(k)*Math.sin(r/2);var b=(t.L+i.L)/2,c=(h+y)/2,s=e+f,u;u=h*h==0?s:Math.abs(e-f)<=v?s/2:s<o?(s+o)/2:(s-o)/2;var ot=1-.17*Math.cos(u-n(30))+.24*Math.cos(2*u)+.32*Math.cos(3*u+n(6))-.2*Math.cos(4*u-n(63)),st=n(30)*Math.exp(-Math.pow((u-n(275))/n(25),2)),ht=2*Math.sqrt(Math.pow(c,7)/(Math.pow(c,7)+rt)),ct=1+.015*Math.pow(b-50,2)/Math.sqrt(20+Math.pow(b-50,2)),w=1+.045*c,p=1+.015*c*ot,ut=-Math.sin(2*st)*ht;return Math.sqrt(Math.pow(at/(et*ct),2)+Math.pow(g/(d*w),2)+Math.pow(r/(nt*p),2)+ut*(g/(d*w))*(r/(nt*p)))}function n(n){return n*(Math.PI/180)}function u(n){var t=h(n);return c(t)}function h(n){var t=i(n.R/255),r=i(n.G/255),u=i(n.B/255),f=t*.4124+r*.3576+u*.1805,e=t*.2126+r*.7152+u*.0722,o=t*.0193+r*.1192+u*.9505;return{X:f,Y:e,Z:o}}function c(n){var u=r(n.X/t.X),i=r(n.Y/t.Y),f=r(n.Z/t.Z);return{L:Math.max(0,116*i-16),A:500*(u-i),B:200*(i-f)}}function i(n){return n>.04045?Math.pow((n+.055)/1.055,2.4)*100:n/12.92*100}function r(n){return n>f?Math.pow(n,1/3):e*n+16/116}var f=216/24389,e=24389/27,t={X:95.047,Y:100,Z:108.883};return{DeltaE:o}}();

;// angular/ui-bootstrap-0.11.2.js
angular.module("ui.bootstrap",["ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(n,t,i){function u(n){for(var t in n)if(f.style[t]!==undefined)return n[t]}var r=function(u,f,e){e=e||{};var s=n.defer(),o=r[e.animation?"animationEndEventName":"transitionEndEventName"],h=function(){i.$apply(function(){u.unbind(o,h),s.resolve(u)})};return o&&u.bind(o,h),t(function(){angular.isString(f)?u.addClass(f):angular.isFunction(f)?f(u):angular.isObject(f)&&u.css(f),o||s.resolve(u)}),s.promise.cancel=function(){o&&u.unbind(o,h),s.reject("Transition cancelled")},s.promise},f=document.createElement("trans"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},o={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=u(e),r.animationEndEventName=u(o),r}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(n){return{link:function(t,i,r){function e(t){function f(){u===r&&(u=undefined)}var r=n(i,t);return u&&u.cancel(),u=r,r.then(f,f),r}function h(){f?(f=!1,o()):(i.removeClass("collapse").addClass("collapsing"),e({height:i[0].scrollHeight+"px"}).then(o))}function o(){i.removeClass("collapsing"),i.addClass("collapse in"),i.css({height:"auto"})}function c(){if(f)f=!1,s(),i.css({height:0});else{i.css({height:i[0].scrollHeight+"px"});var n=i[0].offsetWidth;i.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(s)}}function s(){i.removeClass("collapsing"),i.addClass("collapse")}var f=!0,u;t.$watch(r.collapse,function(n){n?c():h()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(n,t,i){this.groups=[],this.closeOthers=function(r){var u=angular.isDefined(t.closeOthers)?n.$eval(t.closeOthers):i.closeOthers;u&&angular.forEach(this.groups,function(n){n!==r&&(n.isOpen=!1)})},this.addGroup=function(n){var t=this;this.groups.push(n),n.$on("$destroy",function(){t.removeGroup(n)})},this.removeGroup=function(n){var t=this.groups.indexOf(n);t!==-1&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(n){this.heading=n}},link:function(n,t,i,r){r.addGroup(n),n.$watch("isOpen",function(t){t&&r.closeOthers(n)}),n.toggleOpen=function(){n.isDisabled||(n.isOpen=!n.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(n,t,i,r,u){r.setHeading(u(n,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(n,t,i,r){n.$watch(function(){return r[i.accordionTransclude]},function(n){n&&(t.html(""),t.append(n))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(n,t){n.closeable="close"in t}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(n,t,i){t.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),n.$watch(i.bindHtmlUnsafe,function(n){t.html(n||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(n){this.activeClass=n.activeClass||"active",this.toggleEvent=n.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(n,t,i,r){var f=r[0],u=r[1];u.$render=function(){t.toggleClass(f.activeClass,angular.equals(u.$modelValue,n.$eval(i.btnRadio)))},t.bind(f.toggleEvent,function(){var r=t.hasClass(f.activeClass);(!r||angular.isDefined(i.uncheckable))&&n.$apply(function(){u.$setViewValue(r?null:n.$eval(i.btnRadio)),u.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(n,t,i,r){function e(){return o(i.btnCheckboxTrue,!0)}function s(){return o(i.btnCheckboxFalse,!1)}function o(t,i){var r=n.$eval(t);return angular.isDefined(r)?r:i}var f=r[0],u=r[1];u.$render=function(){t.toggleClass(f.activeClass,angular.equals(u.$modelValue,e()))},t.bind(f.toggleEvent,function(){n.$apply(function(){u.$setViewValue(t.hasClass(f.activeClass)?s():e()),u.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(n,t,i){function s(){c();var i=+n.interval;!isNaN(i)&&i>=0&&(e=t(l,i))}function c(){e&&(t.cancel(e),e=null)}function l(){o?(n.next(),s()):n.pause()}var r=this,u=r.slides=n.slides=[],f=-1,e,o,h;r.currentSlide=null,h=!1,r.select=n.select=function(e,o){function a(){if(!h){if(r.currentSlide&&angular.isString(o)&&!n.noTransition&&e.$element){e.$element.addClass(o);var t=e.$element[0].offsetWidth;angular.forEach(u,function(n){angular.extend(n,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(e,{direction:o,active:!0,entering:!0}),angular.extend(r.currentSlide||{},{direction:o,leaving:!0}),n.$currentTransition=i(e.$element,{}),function(t,i){n.$currentTransition.then(function(){c(t,i)},function(){c(t,i)})}(e,r.currentSlide)}else c(e,r.currentSlide);r.currentSlide=e,f=l,s()}}function c(t,i){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(i||{},{direction:"",active:!1,leaving:!1,entering:!1}),n.$currentTransition=null}var l=u.indexOf(e);o===undefined&&(o=l>f?"next":"prev"),e&&e!==r.currentSlide&&(n.$currentTransition?(n.$currentTransition.cancel(),t(a)):a())},n.$on("$destroy",function(){h=!0}),r.indexOfSlide=function(n){return u.indexOf(n)},n.next=function(){var t=(f+1)%u.length;if(!n.$currentTransition)return r.select(u[t],"next")},n.prev=function(){var t=f-1<0?u.length-1:f-1;if(!n.$currentTransition)return r.select(u[t],"prev")},n.isActive=function(n){return r.currentSlide===n},n.$watch("interval",s),n.$on("$destroy",c),n.play=function(){o||(o=!0,s())},n.pause=function(){n.noPause||(o=!1,c())},r.addSlide=function(t,i){t.$element=i,u.push(t),u.length===1||t.active?(r.select(u[u.length-1]),u.length==1&&n.play()):t.active=!1},r.removeSlide=function(n){var t=u.indexOf(n);u.splice(t,1),u.length>0&&n.active?t>=u.length?r.select(u[t-1]):r.select(u[t]):f>t&&f--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(n,t,i,r){r.addSlide(n,t),n.$on("$destroy",function(){r.removeSlide(n)}),n.$watch("active",function(t){t&&r.select(n)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(n,t){function r(n){var u=[],r=n.split("");return angular.forEach(i,function(t,i){var f=n.indexOf(i),e,o;if(f>-1){for(n=n.split(""),r[f]="("+t.regex+")",n[f]="$",e=f+1,o=f+i.length;e<o;e++)r[e]="",n[e]="$";n=n.join(""),u.push({index:f,apply:t.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:t(u,"index")}}function u(n,t,i){return t===1&&i>28?i===29&&(n%4==0&&n%100!=0||n%400==0):t===3||t===5||t===8||t===10?i<31:!0}this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(n){this.year=+n}},yy:{regex:"\\d{2}",apply:function(n){this.year=+n+2e3}},y:{regex:"\\d{1,4}",apply:function(n){this.year=+n}},MMMM:{regex:n.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=n.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:n.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=n.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(n){this.month=n-1}},M:{regex:"[1-9]|1[0-2]",apply:function(n){this.month=n-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(n){this.date=+n}},EEEE:{regex:n.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:n.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(t,i){var f,c,e,l,s;if(!angular.isString(t)||!i)return t;i=n.DATETIME_FORMATS[i]||i,this.parsers[i]||(this.parsers[i]=r(i));var h=this.parsers[i],a=h.regex,v=h.map,o=t.match(a);if(o&&o.length){for(f={year:1900,month:0,date:1,hours:0},e=1,l=o.length;e<l;e++)s=v[e-1],s.apply&&s.apply.call(f,o[e]);return u(f.year,f.month,f.date)&&(c=new Date(f.year,f.month,f.date,f.hours)),c}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(n,t){function i(n,i){return n.currentStyle?n.currentStyle[i]:t.getComputedStyle?t.getComputedStyle(n)[i]:n.style[i]}function r(n){return(i(n,"position")||"static")==="static"}var u=function(t){for(var u=n[0],i=t.offsetParent||u;i&&i!==u&&r(i);)i=i.offsetParent;return i||u};return{position:function(t){var e=this.offset(t),r={top:0,left:0},i=u(t[0]),f;return i!=n[0]&&(r=this.offset(angular.element(i)),r.top+=i.clientTop-i.scrollTop,r.left+=i.clientLeft-i.scrollLeft),f=t[0].getBoundingClientRect(),{width:f.width||t.prop("offsetWidth"),height:f.height||t.prop("offsetHeight"),top:e.top-r.top,left:e.left-r.left}},offset:function(i){var r=i[0].getBoundingClientRect();return{width:r.width||i.prop("offsetWidth"),height:r.height||i.prop("offsetHeight"),top:r.top+(t.pageYOffset||n[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||n[0].documentElement.scrollLeft)}},positionElements:function(n,t,i,r){var a=i.split("-"),h=a[0],e=a[1]||"center",u,c,l,f,o,s;u=r?this.offset(n):this.position(n),c=t.prop("offsetWidth"),l=t.prop("offsetHeight"),o={center:function(){return u.left+u.width/2-c/2},left:function(){return u.left},right:function(){return u.left+u.width}},s={center:function(){return u.top+u.height/2-l/2},top:function(){return u.top},bottom:function(){return u.top+u.height}};switch(h){case"right":f={top:s[e](),left:o[h]()};break;case"left":f={top:s[e](),left:u.left-c};break;case"bottom":f={top:s[h](),left:o[e]()};break;default:f={top:u.top-l,left:o[e]()}}return f}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(n,t,i,r,u,f,e,o){var s=this,h={$setViewValue:angular.noop},c;this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(i,u){s[i]=angular.isDefined(t[i])?u<8?r(t[i])(n.$parent):n.$parent.$eval(t[i]):o[i]}),angular.forEach(["minDate","maxDate"],function(r){t[r]?n.$parent.$watch(i(t[r]),function(n){s[r]=n?new Date(n):null,s.refreshView()}):s[r]=o[r]?new Date(o[r]):null}),n.datepickerMode=n.datepickerMode||o.datepickerMode,n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(Math.random()*1e4),this.activeDate=angular.isDefined(t.initDate)?n.$parent.$eval(t.initDate):new Date,n.isActive=function(t){return s.compare(t.date,s.activeDate)===0?(n.activeDateId=t.uid,!0):!1},this.init=function(n){h=n,h.$render=function(){s.render()}},this.render=function(){if(h.$modelValue){var n=new Date(h.$modelValue),t=!isNaN(n);t?this.activeDate=n:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),h.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var n=h.$modelValue?new Date(h.$modelValue):null;h.$setValidity("date-disabled",!n||this.element&&!this.isDisabled(n))}},this.createDateObject=function(n,t){var i=h.$modelValue?new Date(h.$modelValue):null;return{date:n,label:e(n,t),selected:i&&this.compare(n,i)===0,disabled:this.isDisabled(n),current:this.compare(n,new Date)===0}},this.isDisabled=function(i){return this.minDate&&this.compare(i,this.minDate)<0||this.maxDate&&this.compare(i,this.maxDate)>0||t.dateDisabled&&n.dateDisabled({date:i,mode:n.datepickerMode})},this.split=function(n,t){for(var i=[];n.length>0;)i.push(n.splice(0,t));return i},n.select=function(t){if(n.datepickerMode===s.minMode){var i=h.$modelValue?new Date(h.$modelValue):new Date(0,0,0,0,0,0,0);i.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),h.$setViewValue(i),h.$render()}else s.activeDate=t,n.datepickerMode=s.modes[s.modes.indexOf(n.datepickerMode)-1]},n.move=function(n){var t=s.activeDate.getFullYear()+n*(s.step.years||0),i=s.activeDate.getMonth()+n*(s.step.months||0);s.activeDate.setFullYear(t,i,1),s.refreshView()},n.toggleMode=function(t){(t=t||1,(n.datepickerMode!==s.maxMode||t!==1)&&(n.datepickerMode!==s.minMode||t!==-1))&&(n.datepickerMode=s.modes[s.modes.indexOf(n.datepickerMode)+t])},n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"},c=function(){u(function(){s.element[0].focus()},0,!1)},n.$on("datepicker.focus",c),n.keydown=function(t){var i=n.keys[t.which];if(i&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),i==="enter"||i==="space"){if(s.isDisabled(s.activeDate))return;n.select(s.activeDate),c()}else t.ctrlKey&&(i==="up"||i==="down")?(n.toggleMode(i==="up"?1:-1),c()):(s.handleKeyDown(i,t),s.refreshView())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u)}}}).directive("daypicker",["dateFilter",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,i,r,u){function f(n,t){return t===1&&n%4==0&&(n%100!=0||n%400==0)?29:e[t]}function o(n,t){var r=new Array(t),i=new Date(n),u=0;for(i.setHours(12);u<t;)r[u++]=new Date(i),i.setDate(i.getDate()+1);return r}function s(n){var t=new Date(n),i;return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1}t.showWeeks=u.showWeeks,u.step={months:1},u.element=i;var e=[31,28,31,30,31,30,31,31,30,31,30,31];u._refreshView=function(){var p=u.activeDate.getFullYear(),h=u.activeDate.getMonth(),c=new Date(p,h,1),e=u.startingDay-c.getDay(),l=e>0?7-e:-e,a=new Date(c),i,r,f,v,y;for(l>0&&a.setDate(-l+1),i=o(a,42),r=0;r<42;r++)i[r]=angular.extend(u.createDateObject(i[r],u.formatDay),{secondary:i[r].getMonth()!==h,uid:t.uniqueId+"-"+r});for(t.labels=new Array(7),f=0;f<7;f++)t.labels[f]={abbr:n(i[f].date,u.formatDayHeader),full:n(i[f].date,"EEEE")};if(t.title=n(u.activeDate,u.formatDayTitle),t.rows=u.split(i,7),t.showWeeks)for(t.weekNumbers=[],v=s(t.rows[0][0].date),y=t.rows.length;t.weekNumbers.push(v++)<y;);},u.compare=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},u.handleKeyDown=function(n){var i=u.activeDate.getDate(),r;n==="left"?i=i-1:n==="up"?i=i-7:n==="right"?i=i+1:n==="down"?i=i+7:n==="pageup"||n==="pagedown"?(r=u.activeDate.getMonth()+(n==="pageup"?-1:1),u.activeDate.setMonth(r,1),i=Math.min(f(u.activeDate.getFullYear(),u.activeDate.getMonth()),i)):n==="home"?i=1:n==="end"&&(i=f(u.activeDate.getFullYear(),u.activeDate.getMonth())),u.activeDate.setDate(i)},u.refreshView()}}}]).directive("monthpicker",["dateFilter",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,i,r,u){u.step={years:1},u.element=i,u._refreshView=function(){for(var r=new Array(12),f=u.activeDate.getFullYear(),i=0;i<12;i++)r[i]=angular.extend(u.createDateObject(new Date(f,i,1),u.formatMonth),{uid:t.uniqueId+"-"+i});t.title=n(u.activeDate,u.formatMonthTitle),t.rows=u.split(r,3)},u.compare=function(n,t){return new Date(n.getFullYear(),n.getMonth())-new Date(t.getFullYear(),t.getMonth())},u.handleKeyDown=function(n){var i=u.activeDate.getMonth(),r;n==="left"?i=i-1:n==="up"?i=i-3:n==="right"?i=i+1:n==="down"?i=i+3:n==="pageup"||n==="pagedown"?(r=u.activeDate.getFullYear()+(n==="pageup"?-1:1),u.activeDate.setFullYear(r)):n==="home"?i=0:n==="end"&&(i=11),u.activeDate.setMonth(i)},u.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(n,t,i,r){function f(n){return parseInt((n-1)/u,10)*u+1}var u=r.yearRange;r.step={years:u},r.element=t,r._refreshView=function(){for(var i=new Array(u),t=0,e=f(r.activeDate.getFullYear());t<u;t++)i[t]=angular.extend(r.createDateObject(new Date(e+t,0,1),r.formatYear),{uid:n.uniqueId+"-"+t});n.title=[i[0].label,i[u-1].label].join(" - "),n.rows=r.split(i,5)},r.compare=function(n,t){return n.getFullYear()-t.getFullYear()},r.handleKeyDown=function(n){var i=r.activeDate.getFullYear();n==="left"?i=i-1:n==="up"?i=i-5:n==="right"?i=i+1:n==="down"?i=i+5:n==="pageup"||n==="pagedown"?i+=(n==="pageup"?-1:1)*r.step.years:n==="home"?i=f(r.activeDate.getFullYear()):n==="end"&&(i=f(r.activeDate.getFullYear())+u-1),r.activeDate.setFullYear(i)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(n,t,i,r,u,f,e){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(o,s,h,c){function k(n){return n.replace(/([A-Z])/g,function(n){return"-"+n.toLowerCase()})}function d(n){if(n){if(angular.isDate(n)&&!isNaN(n))return c.$setValidity("date",!0),n;if(angular.isString(n)){var t=f.parse(n,p)||new Date(n);return isNaN(t)?(c.$setValidity("date",!1),undefined):(c.$setValidity("date",!0),t)}return c.$setValidity("date",!1),undefined}return c.$setValidity("date",!0),null}var p,g=angular.isDefined(h.closeOnDateSelection)?o.$parent.$eval(h.closeOnDateSelection):e.closeOnDateSelection,b=angular.isDefined(h.datepickerAppendToBody)?o.$parent.$eval(h.datepickerAppendToBody):e.appendToBody,l,a,v,w,y;o.showButtonBar=angular.isDefined(h.showButtonBar)?o.$parent.$eval(h.showButtonBar):e.showButtonBar,o.getText=function(n){return o[n+"Text"]||e[n+"Text"]},h.$observe("datepickerPopup",function(n){p=n||e.datepickerPopup,c.$render()}),l=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>"),l.attr({"ng-model":"date","ng-change":"dateSelection()"}),a=angular.element(l.children()[0]),h.datepickerOptions&&angular.forEach(o.$parent.$eval(h.datepickerOptions),function(n,t){a.attr(k(t),n)}),o.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(n){var i,r;h[n]&&(i=t(h[n]),o.$parent.$watch(i,function(t){o.watchData[n]=t}),a.attr(k(n),"watchData."+n),n==="datepickerMode"&&(r=i.assign,o.$watch("watchData."+n,function(n,t){n!==t&&r(o.$parent,n)})))}),h.dateDisabled&&a.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.$parsers.unshift(d),o.dateSelection=function(n){angular.isDefined(n)&&(o.date=n),c.$setViewValue(o.date),c.$render(),g&&(o.isOpen=!1,s[0].focus())},s.bind("input change keyup",function(){o.$apply(function(){o.date=c.$modelValue})}),c.$render=function(){var n=c.$viewValue?u(c.$viewValue,p):"";s.val(n),o.date=d(c.$modelValue)},v=function(n){o.isOpen&&n.target!==s[0]&&o.$apply(function(){o.isOpen=!1})},w=function(n){o.keydown(n)},s.bind("keydown",w),o.keydown=function(n){n.which===27?(n.preventDefault(),n.stopPropagation(),o.close()):n.which!==40||o.isOpen||(o.isOpen=!0)},o.$watch("isOpen",function(n){n?(o.$broadcast("datepicker.focus"),o.position=b?r.offset(s):r.position(s),o.position.top=o.position.top+s.prop("offsetHeight"),i.bind("click",v)):i.unbind("click",v)}),o.select=function(n){if(n==="today"){var t=new Date;angular.isDate(c.$modelValue)?(n=new Date(c.$modelValue),n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):n=new Date(t.setHours(0,0,0,0))}o.dateSelection(n)},o.close=function(){o.isOpen=!1,s[0].focus()},y=n(l)(o),l.remove(),b?i.find("body").append(y):s.after(y),o.$on("$destroy",function(){y.remove(),s.unbind("keydown",w),i.unbind("click",v)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(n,t){t.bind("click",function(n){n.preventDefault(),n.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(n){var t=null,i,r;this.open=function(u){t||(n.bind("click",i),n.bind("keydown",r)),t&&t!==u&&(t.isOpen=!1),t=u},this.close=function(u){t===u&&(t=null,n.unbind("click",i),n.unbind("keydown",r))},i=function(n){var i=t.getToggleElement();n&&i&&i[0].contains(n.target)||t.$apply(function(){t.isOpen=!1})},r=function(n){n.which===27&&(t.focusToggleElement(),i())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(n,t,i,r,u,f){var o=this,e=n.$new(),c=r.openClass,s,h=angular.noop,l=t.onToggle?i(t.onToggle):angular.noop;this.init=function(r){o.$element=r,t.isOpen&&(s=i(t.isOpen),h=s.assign,n.$watch(s,function(n){e.isOpen=!!n}))},this.toggle=function(n){return e.isOpen=arguments.length?!!n:!e.isOpen},this.isOpen=function(){return e.isOpen},e.getToggleElement=function(){return o.toggleElement},e.focusToggleElement=function(){o.toggleElement&&o.toggleElement[0].focus()},e.$watch("isOpen",function(t,i){f[t?"addClass":"removeClass"](o.$element,c),t?(e.focusToggleElement(),u.open(e)):u.close(e),h(n,t),angular.isDefined(t)&&t!==i&&l(n,{open:!!t})}),n.$on("$locationChangeSuccess",function(){e.isOpen=!1}),n.$on("$destroy",function(){e.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(n,t,i,r){r.init(t)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(n,t,i,r){if(r){r.toggleElement=t;var u=function(u){u.preventDefault(),t.hasClass("disabled")||i.disabled||n.$apply(function(){r.toggle()})};t.bind("click",u),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),n.$watch(r.isOpen,function(n){t.attr("aria-expanded",!!n)}),n.$on("$destroy",function(){t.unbind("click",u)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var n=[];return{add:function(t,i){n.push({key:t,value:i})},get:function(t){for(var i=0;i<n.length;i++)if(t==n[i].key)return n[i]},keys:function(){for(var i=[],t=0;t<n.length;t++)i.push(n[t].key);return i},top:function(){return n[n.length-1]},remove:function(t){for(var r=-1,i=0;i<n.length;i++)if(t==n[i].key){r=i;break}return n.splice(r,1)[0]},removeTop:function(){return n.splice(n.length-1,1)[0]},length:function(){return n.length}}}}}).directive("modalBackdrop",["$timeout",function(n){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t,i,r){t.backdropClass=r.backdropClass||"",t.animate=!1,n(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(n,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(n,t){return t.templateUrl||"template/modal/window.html"},link:function(i,r,u){r.addClass(u.windowClass||""),i.size=u.size,t(function(){i.animate=!0,r[0].querySelectorAll("[autofocus]").length||r[0].focus()}),i.close=function(t){var i=n.getTop();i&&i.value.backdrop&&i.value.backdrop!="static"&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),n.dismiss(i.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(n,t,i,r,u){u(n.$parent,function(n){t.empty(),t.append(n)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(n,t,i,r,u,f){function c(){for(var i=-1,t=e.keys(),n=0;n<t.length;n++)e.get(t[n]).value.backdrop&&(i=n);return i}function a(n){var r=i.find("body").eq(0),t=e.get(n).value;e.remove(n),v(t.modalDomEl,t.modalScope,300,function(){t.modalScope.$destroy(),r.toggleClass(l,e.length()>0),y()})}function y(){if(h&&c()==-1){var n=o;v(h,o,150,function(){n.$destroy(),n=null}),h=undefined,o=undefined}}function v(i,r,u,f){function e(){e.done||(e.done=!0,i.remove(),f&&f())}var o,s;r.animate=!1,o=n.transitionEndEventName,o?(s=t(e,u),i.bind(o,function(){t.cancel(s),e(),r.$apply()})):t(e)}var l="modal-open",h,o,e=f.createNew(),s={};return u.$watch(c,function(n){o&&(o.index=n)}),i.bind("keydown",function(n){var t;n.which===27&&(t=e.top(),t&&t.value.keyboard&&(n.preventDefault(),u.$apply(function(){s.dismiss(t.key,"escape key press")})))}),s.open=function(n,t){var f,s,a,v,y;e.add(n,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard}),f=i.find("body").eq(0),s=c(),s>=0&&!h&&(o=u.$new(!0),o.index=s,a=angular.element("<div modal-backdrop></div>"),a.attr("backdrop-class",t.backdropClass),h=r(a)(o),f.append(h)),v=angular.element("<div modal-window></div>"),v.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:e.length()-1,animate:"animate"}).html(t.content),y=r(v)(t.scope),e.top().value.modalDomEl=y,f.append(y),f.addClass(l)},s.close=function(n,t){var i=e.get(n);i&&(i.value.deferred.resolve(t),a(n))},s.dismiss=function(n,t){var i=e.get(n);i&&(i.value.deferred.reject(t),a(n))},s.dismissAll=function(n){for(var t=this.getTop();t;)this.dismiss(t.key,n),t=this.getTop()},s.getTop=function(){return e.top()},s}]).provider("$modal",function(){var n={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,i,r,u,f,e,o){function h(n){return n.template?r.when(n.template):u.get(angular.isFunction(n.templateUrl)?n.templateUrl():n.templateUrl,{cache:f}).then(function(n){return n.data})}function c(n){var i=[];return angular.forEach(n,function(n){(angular.isFunction(n)||angular.isArray(n))&&i.push(r.when(t.invoke(n)))}),i}var s={};return s.open=function(t){var f=r.defer(),s=r.defer(),u={result:f.promise,opened:s.promise,close:function(n){o.close(u,n)},dismiss:function(n){o.dismiss(u,n)}},l;if(t=angular.extend({},n.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");return l=r.all([h(t)].concat(c(t.resolve))),l.then(function(n){var r=(t.scope||i).$new(),h,s,c;r.$close=u.close,r.$dismiss=u.dismiss,s={},c=1,t.controller&&(s.$scope=r,s.$modalInstance=u,angular.forEach(t.resolve,function(t,i){s[i]=n[c++]}),h=e(t.controller,s),t.controllerAs&&(r[t.controllerAs]=h)),o.open(u,{scope:r,deferred:f,content:n[0],backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(n){f.reject(n)}),l.then(function(){s.resolve(!0)},function(){s.reject(!1)}),u},s}]};return n}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(n,t,i){var u=this,r={$setViewValue:angular.noop},f=t.numPages?i(t.numPages).assign:angular.noop;this.init=function(f,e){r=f,this.config=e,r.$render=function(){u.render()},t.itemsPerPage?n.$parent.$watch(i(t.itemsPerPage),function(t){u.itemsPerPage=parseInt(t,10),n.totalPages=u.calculateTotalPages()}):this.itemsPerPage=e.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){n.page=parseInt(r.$viewValue,10)||1},n.selectPage=function(t){n.page!==t&&t>0&&t<=n.totalPages&&(r.$setViewValue(t),r.$render())},n.getText=function(t){return n[t+"Text"]||u.config[t+"Text"]},n.noPrevious=function(){return n.page===1},n.noNext=function(){return n.page===n.totalPages},n.$watch("totalItems",function(){n.totalPages=u.calculateTotalPages()}),n.$watch("totalPages",function(t){f(n.$parent,t),n.page>t?n.selectPage(t):r.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(n,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(i,r,u,f){function h(n,t,i){return{number:n,text:t,active:i}}function a(n,t){var f=[],i=1,r=t,o=angular.isDefined(e)&&e<t,u,c,l,a;for(o&&(s?(i=Math.max(n-Math.floor(e/2),1),r=i+e-1,r>t&&(r=t,i=r-e+1)):(i=(Math.ceil(n/e)-1)*e+1,r=Math.min(i+e-1,t))),u=i;u<=r;u++)c=h(u,u,u===n),f.push(c);return o&&!s&&(i>1&&(l=h(i-1,"...",!1),f.unshift(l)),r<t&&(a=h(r+1,"...",!1),f.push(a))),f}var o=f[0],c=f[1],e,s,l;c&&(e=angular.isDefined(u.maxSize)?i.$parent.$eval(u.maxSize):t.maxSize,s=angular.isDefined(u.rotate)?i.$parent.$eval(u.rotate):t.rotate,i.boundaryLinks=angular.isDefined(u.boundaryLinks)?i.$parent.$eval(u.boundaryLinks):t.boundaryLinks,i.directionLinks=angular.isDefined(u.directionLinks)?i.$parent.$eval(u.directionLinks):t.directionLinks,o.init(c,t),u.maxSize&&i.$parent.$watch(n(u.maxSize),function(n){e=parseInt(n,10),o.render()}),l=o.render,o.render=function(){l(),i.page>0&&i.page<=i.totalPages&&(i.pages=a(i.page,i.totalPages))})}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(n){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,i,r,u){var e=u[0],f=u[1];f&&(t.align=angular.isDefined(r.align)?t.$parent.$eval(r.align):n.align,e.init(f,n))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function r(n){var t=/[A-Z]/g,i="-";return n.replace(t,function(n,t){return(t?i:"")+n.toLowerCase()})}var i={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},t={};this.options=function(n){angular.extend(t,n)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(u,f,e,o,s,h,c){return function(u,l,a){function w(t){var i=t||v.trigger||a,r=n[i]||i;return{show:i,hide:r}}var v=angular.extend({},i,t),b=r(u),y=c.startSymbol(),p=c.endSymbol(),k="<div "+b+'-popup title="'+y+"tt_title"+p+'" content="'+y+"tt_content"+p+'" placement="'+y+"tt_placement"+p+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var i=f(k);return function(n,t,r){function ut(){n.tt_isOpen?nt():g()}function g(){(!ft||n.$eval(r[l+"Enable"]))&&(n.tt_popupDelay?y||(y=e(rt,n.tt_popupDelay,!1),y.then(function(n){n()})):rt()())}function nt(){n.$apply(function(){tt()})}function rt(){return(y=null,a&&(e.cancel(a),a=null),!n.tt_content)?angular.noop:(et(),f.css({top:0,left:0,display:"block"}),p?s.find("body").append(f):t.after(f),it(),n.tt_isOpen=!0,n.$digest(),it)}function tt(){n.tt_isOpen=!1,e.cancel(y),y=null,n.tt_animation?a||(a=e(b,500)):b()}function et(){f&&b(),f=i(n,function(){}),n.$digest()}function b(){a=null,f&&(f.remove(),f=null)}var f,a,y,p=angular.isDefined(v.appendToBody)?v.appendToBody:!1,c=w(undefined),ft=angular.isDefined(r[l+"Enable"]),it=function(){var i=h.positionElements(t,f,n.tt_placement,p);i.top+="px",i.left+="px",f.css(i)},d,k;n.tt_isOpen=!1,r.$observe(u,function(t){n.tt_content=t,!t&&n.tt_isOpen&&tt()}),r.$observe(l+"Title",function(t){n.tt_title=t}),r.$observe(l+"Placement",function(t){n.tt_placement=angular.isDefined(t)?t:v.placement}),r.$observe(l+"PopupDelay",function(t){var i=parseInt(t,10);n.tt_popupDelay=isNaN(i)?v.popupDelay:i}),d=function(){t.unbind(c.show,g),t.unbind(c.hide,nt)},r.$observe(l+"Trigger",function(n){d(),c=w(n),c.show===c.hide?t.bind(c.show,ut):(t.bind(c.show,g),t.bind(c.hide,nt))}),k=n.$eval(r[l+"Animation"]),n.tt_animation=angular.isDefined(k)?!!k:v.animation,r.$observe(l+"AppendToBody",function(t){p=angular.isDefined(t)?o(t)(n):p}),p&&n.$on("$locationChangeSuccess",function(){n.tt_isOpen&&tt()}),n.$on("$destroy",function(){e.cancel(a),e.cancel(y),d(),b()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(n){return n("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(n){return n("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(n){return n("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(n,t,i){var r=this,u=angular.isDefined(t.animate)?n.$parent.$eval(t.animate):i.animate;this.bars=[],n.max=angular.isDefined(t.max)?n.$parent.$eval(t.max):i.max,this.addBar=function(t,i){u||i.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(i){t.percent=+(100*i/n.max).toFixed(2)}),t.$on("$destroy",function(){i=null,r.removeBar(t)})},this.removeBar=function(n){this.bars.splice(this.bars.indexOf(n),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,t,i,r){r.addBar(n,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(n,t,i,r){r.addBar(n,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(n,t,i){var r={$setViewValue:angular.noop};this.init=function(u){r=u,r.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?n.$parent.$eval(t.stateOn):i.stateOn,this.stateOff=angular.isDefined(t.stateOff)?n.$parent.$eval(t.stateOff):i.stateOff;var f=angular.isDefined(t.ratingStates)?n.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?n.$parent.$eval(t.max):i.max);n.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(n){for(var t=0,i=n.length;t<i;t++)n[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},n[t]);return n},n.rate=function(t){!n.readonly&&t>=0&&t<=n.range.length&&(r.$setViewValue(t),r.$render())},n.enter=function(t){n.readonly||(n.value=t);n.onHover({value:t})},n.reset=function(){n.value=r.$viewValue,n.onLeave()},n.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),n.rate(n.value+(t.which===38||t.which===39?1:-1)))},this.render=function(){n.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(n){var i=this,t=i.tabs=n.tabs=[];i.select=function(n){angular.forEach(t,function(t){t.active&&t!==n&&(t.active=!1,t.onDeselect())}),n.active=!0,n.onSelect()},i.addTab=function(n){t.push(n),t.length===1?n.active=!0:n.active&&i.select(n)},i.removeTab=function(n){var r=t.indexOf(n),u;n.active&&t.length>1&&(u=r==t.length-1?r-1:r+1,i.select(t[u])),t.splice(r,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(n,t,i){n.vertical=angular.isDefined(i.vertical)?n.$parent.$eval(i.vertical):!1,n.justified=angular.isDefined(i.justified)?n.$parent.$eval(i.justified):!1}}}).directive("tab",["$parse",function(n){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,i,r){return function(t,i,u,f){t.$watch("active",function(n){n&&f.select(t)}),t.disabled=!1,u.disabled&&t.$parent.$watch(n(u.disabled),function(n){t.disabled=!!n}),t.select=function(){t.disabled||(t.active=!0)},f.addTab(t),t.$on("$destroy",function(){f.removeTab(t)}),t.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(n,t){n.$watch("headingElement",function(n){n&&(t.html(""),t.append(n))})}}}]).directive("tabContentTransclude",function(){function n(n){return n.tagName&&(n.hasAttribute("tab-heading")||n.hasAttribute("data-tab-heading")||n.tagName.toLowerCase()==="tab-heading"||n.tagName.toLowerCase()==="data-tab-heading")}return{restrict:"A",require:"^tabset",link:function(t,i,r){var u=t.$eval(r.tabContentTransclude);u.$transcludeFn(u.$parent,function(t){angular.forEach(t,function(t){n(t)?u.headingElement=t:i.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(n,t,i,r,u,f){function p(){var t=parseInt(n.hours,10),i=n.showMeridian?t>0&&t<13:t>=0&&t<24;return i?(n.showMeridian&&(t===12&&(t=0),n.meridian===y[1]&&(t=t+12)),t):undefined}function w(){var t=parseInt(n.minutes,10);return t>=0&&t<60?t:undefined}function l(n){return angular.isDefined(n)&&n.toString().length<2?"0"+n:n}function a(n){b(),o.$setViewValue(new Date(e)),v(n)}function b(){o.$setValidity("time",!0),n.invalidHours=!1,n.invalidMinutes=!1}function v(t){var i=e.getHours(),r=e.getMinutes();n.showMeridian&&(i=i===0||i===12?12:i%12),n.hours=t==="h"?i:l(i),n.minutes=t==="m"?r:l(r),n.meridian=e.getHours()<12?y[0]:y[1]}function s(n){var t=new Date(e.getTime()+n*6e4);e.setHours(t.getHours(),t.getMinutes()),a()}var e=new Date,o={$setViewValue:angular.noop},y=angular.isDefined(t.meridians)?n.$parent.$eval(t.meridians):f.meridians||u.DATETIME_FORMATS.AMPMS,h,c;this.init=function(i,r){o=i,o.$render=this.render;var u=r.eq(0),e=r.eq(1),s=angular.isDefined(t.mousewheel)?n.$parent.$eval(t.mousewheel):f.mousewheel;s&&this.setupMousewheelEvents(u,e),n.readonlyInput=angular.isDefined(t.readonlyInput)?n.$parent.$eval(t.readonlyInput):f.readonlyInput,this.setupInputEvents(u,e)},h=f.hourStep,t.hourStep&&n.$parent.$watch(i(t.hourStep),function(n){h=parseInt(n,10)}),c=f.minuteStep,t.minuteStep&&n.$parent.$watch(i(t.minuteStep),function(n){c=parseInt(n,10)}),n.showMeridian=f.showMeridian,t.showMeridian&&n.$parent.$watch(i(t.showMeridian),function(t){if(n.showMeridian=!!t,o.$error.time){var i=p(),r=w();angular.isDefined(i)&&angular.isDefined(r)&&(e.setHours(i),a())}else v()}),this.setupMousewheelEvents=function(t,i){var r=function(n){n.originalEvent&&(n=n.originalEvent);var t=n.wheelDelta?n.wheelDelta:-n.deltaY;return n.detail||t>0};t.bind("mousewheel wheel",function(t){n.$apply(r(t)?n.incrementHours():n.decrementHours()),t.preventDefault()}),i.bind("mousewheel wheel",function(t){n.$apply(r(t)?n.incrementMinutes():n.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,i){if(n.readonlyInput){n.updateHours=angular.noop,n.updateMinutes=angular.noop;return}var r=function(t,i){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(t)&&(n.invalidHours=t),angular.isDefined(i)&&(n.invalidMinutes=i)};n.updateHours=function(){var n=p();angular.isDefined(n)?(e.setHours(n),a("h")):r(!0)},t.bind("blur",function(){!n.invalidHours&&n.hours<10&&n.$apply(function(){n.hours=l(n.hours)})}),n.updateMinutes=function(){var n=w();angular.isDefined(n)?(e.setMinutes(n),a("m")):r(undefined,!0)},i.bind("blur",function(){!n.invalidMinutes&&n.minutes<10&&n.$apply(function(){n.minutes=l(n.minutes)})})},this.render=function(){var n=o.$modelValue?new Date(o.$modelValue):null;isNaN(n)?(o.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(n&&(e=n),b(),v())},n.incrementHours=function(){s(h*60)},n.decrementHours=function(){s(-h*60)},n.incrementMinutes=function(){s(c)},n.decrementMinutes=function(){s(-c)},n.toggleMeridian=function(){s(720*(e.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(n,t,i,r){var f=r[0],u=r[1];u&&f.init(u,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(n){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(i){var r=i.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+i+'".');return{itemName:r[3],source:n(r[4]),viewMapper:n(r[2]||r[1]),modelMapper:n(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(n,t,i,r,u,f,e){var o=[9,13,27,38,40];return{require:"ngModel",link:function(s,h,c,l){var ct=s.$eval(c.typeaheadMinLength)||1,ut=s.$eval(c.typeaheadWaitMs)||0,lt=s.$eval(c.typeaheadEditable)!==!1,w=t(c.typeaheadLoading).assign||angular.noop,ht=t(c.typeaheadOnSelect),et=c.typeaheadInputFormatter?t(c.typeaheadInputFormatter):undefined,ft=c.typeaheadAppendToBody?s.$eval(c.typeaheadAppendToBody):!1,st=t(c.ngModel).assign,v=e.parse(c.typeahead),it,a=s.$new(),p,b,y,nt,g,d,ot,k,rt,tt;s.$on("$destroy",function(){a.$destroy()}),p="typeahead-"+a.$id+"-"+Math.floor(Math.random()*1e4),h.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":p}),b=angular.element("<div typeahead-popup></div>"),b.attr({id:p,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&b.attr("template-url",c.typeaheadTemplateUrl),y=function(){a.matches=[],a.activeIdx=-1,h.attr("aria-expanded",!1)},nt=function(n){return p+"-option-"+n},a.$watch("activeIdx",function(n){n<0?h.removeAttr("aria-activedescendant"):h.attr("aria-activedescendant",nt(n))}),g=function(n){var t={$viewValue:n};w(s,!0),i.when(v.source(s,t)).then(function(i){var u=n===l.$viewValue,r;if(u&&it)if(i.length>0){for(a.activeIdx=0,a.matches.length=0,r=0;r<i.length;r++)t[v.itemName]=i[r],a.matches.push({id:nt(r),label:v.viewMapper(a,t),model:i[r]});a.query=n,a.position=ft?f.offset(h):f.position(h),a.position.top=a.position.top+h.prop("offsetHeight"),h.attr("aria-expanded",!0)}else y();u&&w(s,!1)},function(){y(),w(s,!1)})},y(),a.query=undefined,ot=function(n){d=r(function(){g(n)},ut)},k=function(){d&&r.cancel(d)},l.$parsers.unshift(function(n){return it=!0,n&&n.length>=ct?ut>0?(k(),ot(n)):g(n):(w(s,!1),k(),y()),lt?n:n?(l.$setValidity("editable",!1),undefined):(l.$setValidity("editable",!0),n)}),l.$formatters.push(function(n){var i,r,t={};return et?(t.$model=n,et(s,t)):(t[v.itemName]=n,i=v.viewMapper(s,t),t[v.itemName]=undefined,r=v.viewMapper(s,t),i!==r?i:n)}),a.select=function(n){var t={},i,u;t[v.itemName]=u=a.matches[n].model,i=v.modelMapper(s,t),st(s,i),l.$setValidity("editable",!0),ht(s,{$item:u,$model:i,$label:v.viewMapper(s,t)}),y(),r(function(){h[0].focus()},0,!1)},h.bind("keydown",function(n){a.matches.length!==0&&o.indexOf(n.which)!==-1&&(n.preventDefault(),n.which===40?(a.activeIdx=(a.activeIdx+1)%a.matches.length,a.$digest()):n.which===38?(a.activeIdx=(a.activeIdx?a.activeIdx:a.matches.length)-1,a.$digest()):n.which===13||n.which===9?a.$apply(function(){a.select(a.activeIdx)}):n.which===27&&(n.stopPropagation(),y(),a.$digest()))}),h.bind("blur",function(){it=!1}),rt=function(n){h[0]!==n.target&&(y(),a.$digest())},u.bind("click",rt),s.$on("$destroy",function(){u.unbind("click",rt)}),tt=n(b)(a),ft?u.find("body").append(tt):h.after(tt)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(n,t,i){n.templateUrl=i.templateUrl,n.isOpen=function(){return n.matches.length>0},n.isActive=function(t){return n.active==t},n.selectActive=function(t){n.active=t},n.selectMatch=function(t){n.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(n,t,i,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(u,f,e){var o=r(e.templateUrl)(u.$parent)||"template/typeahead/typeahead-match.html";n.get(o,{cache:t}).success(function(n){f.replaceWith(i(n.trim())(u))})}}}]).filter("typeaheadHighlight",function(){function n(n){return n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,i){return i?(""+t).replace(new RegExp(n(i),"gi"),"<strong>$&</strong>"):t}});

;// ~/viewapp/common/rbxBootstrap.js
angular.module("ui.bootstrap").config(["$provide",function(n){n.decorator("tabsetDirective",["$delegate",function(n){return n[0].templateUrl=Roblox.uiBootstrap.tabsetTemplateLink,n}]),n.decorator("tabDirective",["$delegate",function(n){return n[0].templateUrl=Roblox.uiBootstrap.tabTemplateLink,n[0].scope.subtitle="@",n}]),n.decorator("pagerDirective",["$delegate",function(n){return n[0].templateUrl=Roblox.uiBootstrap.pagerTemplateLink,n[0].scope.currentPage="=",n[0].scope.numPages="=",n}]),n.decorator("paginationDirective",["$delegate",function(n){return n[0].templateUrl=Roblox.uiBootstrap.paginationTemplateLink,n[0].scope.currentPage="=",n[0].scope.numPages="=",n[0].scope.maxSize="=",n}]),n.decorator("accordionDirective",["$delegate",function(n){return n[0].templateUrl=Roblox.uiBootstrap.accordionTemplateLink,n}]),n.decorator("accordionGroupDirective",["$delegate",function(n){return n[0].templateUrl=Roblox.uiBootstrap.accordionGroupTemplateLink,n}]),n.decorator("tooltipPopupDirective",["$delegate",function(n){return n[0].templateUrl=Roblox.uiBootstrap.tooltipPopupTemplateLink,n}]),n.decorator("tooltipHtmlUnsafeDirective",["$delegate",function(n){return n[0].templateUrl=Roblox.uiBootstrap.tooltipHtmlUnsafePopupTemplateLink,n}]),n.decorator("popoverPopupDirective",["$delegate",function(n){return n[0].templateUrl=Roblox.uiBootstrap.popoverPopupTemplateLink,n}]),n.decorator("modalBackdropDirective",["$delegate",function(n){return n[0].templateUrl=Roblox.uiBootstrap.modalBackdropTemplateLink,n}]),n.decorator("modalWindowDirective",["$delegate",function(n){return n[0].templateUrl=Roblox.uiBootstrap.modalWindowTemplateLink,n}])}]).controller("DropdownDemoCtrl",["$scope","$log","$attrs","$parse",function(n){var u=["Places","Clothes","Gear"];n.items=u,n.selection={keyword:""},n.select=function(t){n.selectedItem=t,n.status.isopen=!1}}]).controller("PaginationDemoCtrl",["$scope","$log",function(n){n.totalItems=420,n.currentPage=1,n.maxSize=7}]).controller("PopoverDemoCtrl",["$scope","$log",function(n){n.content=null,n.popoverClick=function(t){n.content=t},angular.element(document.body).bind("click",function(n){var r=document.querySelectorAll("*[popover]"),i,f;if(r.length>0)for(i=0;i<r.length;i++){var e=r[i],t=angular.element(e),u=!0;t.next().hasClass("popover")&&(f=angular.element(t.next()[0].querySelector(".popover-content")),u=f.has(n.target).length===0?!0:!1),!t.is(n.target)&&t.has(n.target).length===0&&u&&(t.scope().tt_isOpen=!1,t.scope().$digest())}})}]).directive("popoverList",["$log",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:!0,templateUrl:Roblox.uiBootstrap.popoverListTemplateLink,link:function(n){var t={0:[{label:"Setting",link:"/#!/setting"},{label:"Privacy",link:"/#!/privacy"}],1:[{label:"Configure",link:"/#!/configure"},{label:"Advertise",link:"/#!/advertise"},{label:"Create Badge",link:"/#!/createbadge"}]};n.list=t[n.content]}}}]).controller("ModalDemoCtrl",["$scope","$modal","$log",function(n,t,i){n.open=function(){angular.element("body").addClass("modal-open-noscroll");var u=t.open({templateUrl:"my-modal-content.html",controller:"ModalInstanceCtrl"});u.result.then(function(t){n.selected=t},function(){angular.element("body").removeClass("modal-open-noscroll"),i.debug("Modal dismissed at: "+new Date)})}}]).controller("ModalInstanceCtrl",["$scope","$modalInstance","$log",function(n,t,i){n.close=function(){i.debug("ModalInstanceCtrl close at: "+new Date),t.dismiss("close")}}]);

;// ~/viewapp/common/modal.js
angular.module("ui.bootstrap").config(["$provide",function(n){n.decorator("modalBackdropDirective",["$delegate",function(n){return n[0].templateUrl=Roblox.uiBootstrap.modalBackdropTemplateLink,n}]),n.decorator("modalWindowDirective",["$delegate",function(n){return n[0].templateUrl=Roblox.uiBootstrap.modalWindowTemplateLink,n}])}]).factory("robloxModalService",["$modal","$log",function(n,t){var i;return{open:function(t,i,r){angular.element("body").addClass("modal-open-noscroll");var u=n.open({templateUrl:t?t:"myModalContent.html",controller:"ModalInstanceCtrl",resolve:{params:function(){return r}}});return u.result},getScope:function(){return t.debug(i),i},setScope:function(n){i=n}}}]).controller("ModalInstanceCtrl",["$scope","$modalInstance","$log","robloxModalService","params",function(n,t,i,r,u){u&&(n.params=u),n.close=function(){i.debug("ModalInstanceCtrl close at: "+new Date),t.dismiss("close")},n.submit=function(){i.debug("Submiting form"),angular.element("body").removeClass("modal-open-noscroll"),r.setScope(n),t.close("close")}}]);

;// ~/viewapp/widgets/cursorPagination/cursorPagination.js
"use strict";var cursorPagination=angular.module("cursorPagination",[]).config(["$qProvider",function(n){angular.isFunction(n.errorOnUnhandledRejections)&&n.errorOnUnhandledRejections(!1)}]);

;// ~/viewapp/pages/avatar/avatar.js
"use strict";var avatar=angular.module("avatar",["robloxApp.helpers"]);

;// ~/viewapp/pages/avatar/constants/avatarConstants.js
"use strict";avatar.constant("avatarConstants",{events:{avatarDetailsLoaded:"Roblox.Avatar.AvatarDetailsLoaded",avatarRulesLoaded:"Roblox.Avatar.AvatarRulesLoaded",menuClicked:"Roblox.Avatar.MenuClicked",outfitsChanged:"Roblox.Avatar.OutfitsChanged",outfitDeleted:"Roblox.Avatar.OutfitDeleted",wornAssetsChanged:"Roblox.Avatar.WornAssetsChanged",metaDataLoaded:"Roblox.Avatar.MetaDataLoaded",bodyColorsChanged:"Roblox.Avatar.BodyColorsChanged"},tabs:[{label:"Recent",name:"Recent",menus:[{name:"All",label:"All"},{name:"Accessories",label:"Accessories"},{name:"Clothing",label:"Clothing"},{name:"BodyParts",label:"Body Parts"},{name:"AvatarAnimations",label:"Animations"},{name:"Outfits",label:"Outfits"}]},{label:"Clothing",name:"Clothing",tabType:"Assets",menuType:"Nested",rows:[{title:"Accessories",menus:[{name:"Hat",label:"Hat",fullLabel:"Hat Accessories",assetType:"Hat"},{name:"Hair",label:"Hair",fullLabel:"Hair Accessories",assetType:"Hair Accessory"},{name:"Face",label:"Face",fullLabel:"Face Accessories",assetType:"Face Accessory"},{name:"Neck",label:"Neck",fullLabel:"Neck Accessories",assetType:"Neck Accessory"},{name:"Shoulders",label:"Shoulders",fullLabel:"Shoulder Accessories",assetType:"Shoulder Accessory"},{name:"Front",label:"Front",fullLabel:"Front Accessories",assetType:"Front Accessory"},{name:"Back",label:"Back",fullLabel:"Back Accessories",assetType:"Back Accessory"},{name:"Waist",label:"Waist",fullLabel:"Waist Accessories",assetType:"Waist Accessory"}]},{title:"Clothes",menus:[{name:"Shirts",label:"Shirts",assetType:"Shirt"},{name:"Pants",label:"Pants",assetType:"Pants"},{name:"T-Shirts",label:"T-Shirts",assetType:"T-Shirt"}]},{title:"Gear",menus:[{name:"Gear",label:"Gear",assetType:"Gear"}]}]},{label:"Body",name:"Body",tabType:"Assets",menus:[{name:"BodyColors",label:"Skin Tone"},{name:"Package",label:"Packages",assetType:"Package"},{name:"Face",label:"Face",assetType:"Face"},{name:"Head",label:"Head",assetType:"Head"},{name:"Torso",label:"Torso",fullLabel:"Torsos",assetType:"Torso"},{name:"LeftArms",label:"Left Arms",assetType:"Left Arm"},{name:"RightArms",label:"Right Arms",assetType:"Right Arm"},{name:"LeftLegs",label:"Left Legs",assetType:"Left Leg"},{name:"RightLegs",label:"Right Legs",assetType:"Right Leg"}]},{label:"Animations",name:"Animations",tabType:"Assets",menus:[{name:"Walk",label:"Walk",fullLabel:"Walk Animations",assetType:"Walk Animation"},{name:"Run",label:"Run",fullLabel:"Run Animations",assetType:"Run Animation"},{name:"Fall",label:"Fall",fullLabel:"Fall Animations",assetType:"Fall Animation"},{name:"Jump",label:"Jump",fullLabel:"Jump Animations",assetType:"Jump Animation"},{name:"Swim",label:"Swim",fullLabel:"Swim Animations",assetType:"Swim Animation"},{name:"Climb",label:"Climb",fullLabel:"Climb Animations",assetType:"Climb Animation"},{name:"Idle",label:"Idle",fullLabel:"Idle Animations",assetType:"Idle Animation"}]},{label:"Outfits",name:"Outfits",tabType:"Outfits",menus:[],noMenus:!0}],thumbnail:{redrawFloodchecked:"You have redrawn your avatar too many times, please try again later",redrawThumbnailFailed:"Failed to redraw thumbnail",waitForThumbnailRegenerationInSeconds:30},recent:{couldNotLoadList:"Failed to load recent items",emptyMessage:"You don't have any recent items"},outfits:{renameOutfitTitle:"Rename Outfit",renameOutfitDescription:"Choose a new name for your outfit",renameOutfitButton:"Rename",createOutfitTitle:"Create New Outfit",createOutfitDescription:"An outfit will be created from your avatar's current appearance",createOutfitButton:"Create",successfulRename:"Renamed outfit",successfulDelete:"Deleted outfit",successfulUpdate:"Updated outfit",successfulCreate:"Created outfit",successfulWear:"Successfully wore outfit",emptyMessage:"You don't have any outfits. Try creating some!",maxNumberOfOutfits:"You have reached the maximum number of outfits",errorCreatingOutfit:"Unable to create outfit, try again later",invalidOutfitName:"Name must be appropriate and less than 200 characters",updateFailedOutfitDelete:"The outfit you tried to update no longer exists",errorUpdatingOutfit:"Outfit update failed, please try again later",errorDeletingOutfit:"Failed to delete outfit",errorRenamingOutfit:"Failed to rename outfit",errorWearingOutfit:"Failed to wear outfit",unableToDownloadThumbnail:"Failed to download outfit thumbnail",failedToLoadOutfits:"Failed to load outfits",downloadingImage:"Downloading image...",countNumbersInEnglish:["zero","one","two","three","four","five"],nameInputPlaceholder:"Name your outfit",downloadOutfitImageTimeout:2e3,downloadOutfitImageMaxRetries:10,menuOptions:[{label:"Update",name:"Update"},{label:"Rename",name:"Rename"},{label:"Download Image",name:"DownloadImage"},{label:"Delete",name:"Delete"},{label:"Cancel",name:"Cancel"}],outfitErrorCodes:{maxOutfits:1,invalidBodyColors:3,invalidOutfitName:4,unwearableAsset:5,internalError:6},renameOutfitsToCostumes:function(n){var i,t;for(i in n.outfits)n.outfits.hasOwnProperty(i)&&(t=n.outfits[i],typeof t=="string"&&(t=t.replace("outfit","costume").replace("Outfit","Costume"),n.outfits[i]=t));angular.forEach(n.tabs,function(n){n.name==="Outfits"?n.label="Costumes":n.name==="Recent"&&angular.forEach(n.menus,function(n){n.name==="Outfits"&&(n.label="Costumes")})})}},packages:{errorWearingPackage:"Failed to wear package"},assets:{savedAdvancedAccessories:"Saved accessories",emptyMessage:"You don't have any ",couldNotLoadList:"Failed to load assets list",errorUpdatingItems:"Error while updating worn items",maxAccessories:10},scales:{failedToUpdate:"Failed to update scales"},avatarType:{failedToUpdate:"Failed to update avatar type",defaultOnPageLoad:"R15",avatarTypes:["R6","R15"]},bodyColors:{failedToUpdate:"Failed to update skin tone",palette:[{brickColorId:364,hexColor:"#5A4C42"},{brickColorId:217,hexColor:"#7C5C46"},{brickColorId:359,hexColor:"#AF9483"},{brickColorId:18,hexColor:"#CC8E69"},{brickColorId:125,hexColor:"#EAB892"},{brickColorId:361,hexColor:"#564236"},{brickColorId:192,hexColor:"#694028"},{brickColorId:351,hexColor:"#BC9B5D"},{brickColorId:352,hexColor:"#C7AC78"},{brickColorId:5,hexColor:"#D7C59A"},{brickColorId:153,hexColor:"#957977"},{brickColorId:1007,hexColor:"#A34B4B"},{brickColorId:101,hexColor:"#DA867A"},{brickColorId:1025,hexColor:"#FFC9C9"},{brickColorId:330,hexColor:"#FF98DC"},{brickColorId:135,hexColor:"#74869D"},{brickColorId:305,hexColor:"#527CAE"},{brickColorId:11,hexColor:"#80BBDC"},{brickColorId:1026,hexColor:"#B1A7FF"},{brickColorId:321,hexColor:"#A75E9B"},{brickColorId:107,hexColor:"#008F9C"},{brickColorId:310,hexColor:"#5B9A4C"},{brickColorId:317,hexColor:"#7C9C6B"},{brickColorId:29,hexColor:"#A1C48C"},{brickColorId:105,hexColor:"#E29B40"},{brickColorId:24,hexColor:"#F5CD30"},{brickColorId:334,hexColor:"#F8D96D"},{brickColorId:199,hexColor:"#635F62"},{brickColorId:1002,hexColor:"#CDCDCD"},{brickColorId:1001,hexColor:"#F8F8F8"}]},page:{idleRefreshTimeInSeconds:10},googleAnalytics:{category:"AvatarPage",advancedAccessoriesAction:"AdvancedAccessories",advancedBodyColorsAction:"AdvancedBodyColors",openLabel:"Open",closeLabel:"Close",saveLabel:"Save",saveFailedLabel:"SaveFailed"},defaultClothing:{wearClothing:"Default clothing has been applied to your avatar - wear something from your clothing",displayTimeInMilliseconds:5e3}});

;// ~/viewapp/pages/avatar/constants/avatarUrlConstants.js
"use strict";avatar.constant("avatarUrlConstants",{www:{assetThumbnail:"/asset-thumbnail/json?width=150&height=150&format=png&assetId=",outfitThumbnail:"/outfit-thumbnail/json?width=150&height=150&format=png&userOutfitId=",inventoryJson:"/users/inventory/list-json",outfitThumbnailJson:"/outfit-thumbnail/json",catalog:"/catalog",avatar:"/my/avatar"},avatarApi:{getOutfitDetailsUrl:"/v1/outfits/{id}/details",createOutfitUrl:"/v1/outfits/create",deleteOutfitUrl:"/v1/outfits/{id}/delete",updateOutfitUrl:"/v1/outfits/{id}/update",wearOutfitUrl:"/v1/outfits/{id}/wear",getOutfitsUrl:"/v1/users/{userId}/outfits",patchOutfitUrl:"/v1/outfits/{id}",setBodyColorsUrl:"/v1/avatar/set-body-colors",setScalesUrl:"/v1/avatar/set-scales",setAvatarTypeUrl:"/v1/avatar/set-player-avatar-type",getAvatarUrl:"/v1/avatar",getAvatarRulesUrl:"/v1/avatar-rules",getRecentItemsUrl:"/v1/recent-items/{type}/list",wearAssetUrl:"/v1/avatar/assets/{id}/wear",removeAssetUrl:"/v1/avatar/assets/{id}/remove",setWearingAssetsUrl:"/v1/avatar/set-wearing-assets",redrawThumbnailUrl:"/v1/avatar/redraw-thumbnail"}});

;// ~/viewapp/widgets/cursorPagination/services/cursorPaginationService.js
"use strict";cursorPagination.factory("cursorPaginationService",["$q","$rootScope","httpService","cacheService",function(n,t,i,r){var f="limit",e="cursor",o="sortOrder",u=n.defer();return u.reject([{code:-1,message:"Busy"}]),{getDataListFromResponseMethods:{defaultV1:function(n){return n.data}},getNextPageCursorFromResponseMethods:{defaultV1:function(n){return n.nextPageCursor}},getErrorsFromResponseMethods:{defaultV1:function(n){return n.errors}},getQueryParametersMethods:{defaultV1:function(n){return n}},sortOrder:{Asc:"Asc",Desc:"Desc"},createPager:function(t){function v(){return r.buildKey(t.getCacheKeyParameters(s))}function y(r){var f=v(),e=l.getPage(f,r,t.pageSize),u=n.defer(),o,y;return(u.promise.then(t.loadSuccess,t.loadError),e.length===t.pageSize||typeof c[f]!="string")?(h=r,u.resolve(e),u.promise):(s[t.cursorName]=c[f],t.beforeLoad&&t.beforeLoad(r,s),a=!0,o={url:t.getRequestUrl(s)},y=t.getQueryParameters(s),i.httpGet(o,y).then(function(n){h=r,c[f]=t.getNextPageCursorFromResponse(n),a=!1;var i=t.getDataListFromResponse(n);Array.isArray(i)?(l.append(f,i),e=l.getPage(f,r,t.pageSize),u.resolve(e)):u.reject([{code:0,message:"data pulled from response not array"}])},function(n){a=!1,u.reject(t.getErrorsFromResponse(n||{}))}),u.promise)}var h=0,a=!1,s={},c={},l=r.createPaginationCache();return t.limitName=t.limitName||f,t.cursorName=t.cursorName||e,t.sortOrderName=t.sortOrderName||o,t.sortOrder=t.sortOrder||this.sortOrder.Asc,s[t.cursorName]="",s[t.sortOrderName]=t.sortOrder,s[t.limitName]=t.loadPageSize,t.getDataListFromResponse=t.getDataListFromResponse||this.getDataListFromResponseMethods.defaultV1,t.getNextPageCursorFromResponse=t.getNextPageCursorFromResponse||this.getNextPageCursorFromResponseMethods.defaultV1,t.getErrorsFromResponse=t.getErrorsFromResponse||this.getErrorsFromResponseMethods.defaultV1,t.getQueryParameters=t.getQueryParameters||this.getQueryParametersMethods.defaultV1,t.loadSuccess=t.loadSuccess||function(){},t.loadError=t.loadError||function(){},{isBusy:function(){return a},setPagingParameter:function(n,t){t===undefined||t===null?delete s[n]:s[n]=t},getPagingParameter:function(n){return s[n]},getCurrentPageNumber:function(){return h},loadNextPage:function(){return this.canLoadNextPage()?y(h+1):u.promise},loadPreviousPage:function(){return this.canLoadPreviousPage()?y(h-1):u.promise},loadFirstPage:function(){if(!this.canLoadFirstPage())return u.promise;var n=v();return l.clear(n),c[n]="",y(1)},canLoadNextPage:function(){return this.isBusy()?!1:this.hasNextPage()},hasNextPage:function(){var n=v();return l.getLength(n)>h*t.pageSize?!0:typeof c[n]=="string"},canLoadPreviousPage:function(){return!this.isBusy()&&h>1},canLoadFirstPage:function(){return!this.isBusy()}}}}}]);

;// ~/viewapp/common/services/cacheService.js
"use strict";robloxAppService.factory("cacheService",[function(){return{createPaginationCache:function(){var n={};return{getPage:function(t,i,r){return n[t]?n[t].slice((i-1)*r,i*r):[]},getLength:function(t){return n[t]?n[t].length:0},append:function(t,i){n[t]||(n[t]=[]),n[t]=n[t].concat(i)},clear:function(t){n[t]=[]}}},buildKey:function(n){var i="",t;for(t in n)n.hasOwnProperty(t)&&(i+="&"+t+"="+n[t]);return i}}}]);

;// ~/viewapp/pages/avatar/services/avatarService.js
"use strict";avatar.factory("avatarService",["$log","$q","httpService","avatarUrlConstants",function(n,t,i,r){function f(n,t){return e+Roblox.Endpoints.generateAbsoluteUrl(n,t,!0)}var e=Roblox.AvatarData.avatarDomain,h={getOutfitDetailsUrl:"/v1/outfits/{id}/details",createOutfitUrl:"/v1/outfits/create",deleteOutfitUrl:"/v1/outfits/{id}/delete",patchOutfitUrl:"/v1/outfits/{id}",wearOutfitUrl:"/v1/outfits/{id}/wear",getOutfitsUrl:"/v1/users/{userId}/outfits",setBodyColorsUrl:"/v1/avatar/set-body-colors",setScalesUrl:"/v1/avatar/set-scales",setAvatarTypeUrl:"/v1/avatar/set-player-avatar-type",getAvatarUrl:"/v1/avatar",getAvatarRulesUrl:"/v1/avatar-rules",getRecentItemsUrl:"/v1/recent-items/{type}/list",wearAssetUrl:"/v1/avatar/assets/{id}/wear",removeAssetUrl:"/v1/avatar/assets/{id}/remove",setWearingAssetsUrl:"/v1/avatar/set-wearing-assets",redrawThumbnailUrl:"/v1/avatar/redraw-thumbnail"},u=r.avatarApi,o=r.www;return{getOutfitThumbnailForDownload:function(n){var t=o.outfitThumbnailJson,r={url:t},u={width:"352",height:"352",format:"png",userOutfitId:n};return i.httpGet(r,u)},getOutfitDetails:function(n){var t=f(u.getOutfitDetailsUrl,{id:n}),r={url:t},e={};return i.httpGet(r,e)},createOutfit:function(n,t,r){var e=f(u.createOutfitUrl),o={url:e,withCredentials:!0},s={name:n,bodyColors:t,assetIds:r};return i.httpPost(o,s)},patchOutfit:function(t,r){n.debug("Patch outfit");var e=f(u.patchOutfitUrl,{id:t}),o={url:e,withCredentials:!0};return i.httpPatch(o,r)},deleteOutfit:function(n){var t=f(u.deleteOutfitUrl,{id:n}),r={url:t,withCredentials:!0},e={};return i.httpPost(r,e)},getOutfits:function(n,t,r){var e=f(u.getOutfitsUrl,{userId:n}),o={url:e,retryable:!0},s={itemsPerPage:r,page:t};return i.httpGet(o,s)},setBodyColors:function(n){var t=f(u.setBodyColorsUrl),r={url:t,withCredentials:!0};return i.httpPost(r,n)},setWearingAssets:function(n){var t=f(u.setWearingAssetsUrl),r={url:t,withCredentials:!0},e={assetIds:n};return i.httpPost(r,e)},wearAsset:function(n){var t=f(u.wearAssetUrl,{id:n}),r={url:t,withCredentials:!0},e={};return i.httpPost(r,e)},removeAsset:function(n){var t=f(u.removeAssetUrl,{id:n}),r={url:t,withCredentials:!0},e={};return i.httpPost(r,e)},wearOutfit:function(n){var t=f(u.wearOutfitUrl,{id:n}),r={url:t,withCredentials:!0},e={};return i.httpPost(r,e)},getAvatar:function(){var n=f(u.getAvatarUrl),t={url:n,withCredentials:!0,retryable:!0},r={};return i.httpGet(t,r)},getRules:function(){var n=f(u.getAvatarRulesUrl),t={url:n},r={};return i.httpGet(t,r)},setScales:function(n){var t=f(u.setScalesUrl),r={url:t,withCredentials:!0};return i.httpPost(r,n)},setAvatarType:function(n){var t=f(u.setAvatarTypeUrl),r={url:t,withCredentials:!0},e={playerAvatarType:n};return i.httpPost(r,e)},getRecentItems:function(n){var t=f(u.getRecentItemsUrl,{type:n}),r={url:t,withCredentials:!0,retryable:!0},e={};return i.httpGet(r,e)},redrawThumbnail:function(){var n=f(u.redrawThumbnailUrl),t={url:n,withCredentials:!0,retryable:!1},r={};return i.httpPost(t,r)}}}]);

;// ~/viewapp/pages/avatar/filters/percentageFilter.js
"use strict";avatar.filter("percentage",["$filter",function(n){return function(t,i){return n("number")(t*100,i)}}]);

;// ~/viewapp/pages/avatar/filters/roundFilter.js
"use strict";avatar.filter("round",[function(){return function(n,t){return t*Math.round(n/t)}}]);

;// ~/viewapp/widgets/cursorPagination/directives/cursorPaginationDirective.js
"use strict";cursorPagination.directive("cursorPagination",[function(){return{restrict:"A",templateUrl:"rbx-cursor-pagination",link:function(n,t,i){n.cursorPaging=n[i.cursorPagination]}}}]);

;// ~/viewapp/common/directives/infiniteScrollDirective.js
"use strict";robloxApp.directive("infiniteScroll",["$rootScope","$window","$timeout","$parse",function(n,t,i,r){return{link:function(u,f,e){var s,o,c,h,l,a;t=angular.element(t),c=0,e.infiniteScrollDistance!=null&&u.$watch(e.infiniteScrollDistance,function(n){return c=parseInt(n,10)}),l=!0,h=!0,s=!1,e.infiniteScrollDisabled!=null&&u.$watch(e.infiniteScrollDisabled,function(n){return h=!n,h&&s?(s=!1,o()):void 0}),o=function(){if(!l)return!1;var r,o,i,a;return(a=t.height()+t.scrollTop(),r=f.offset().top+f.height(),o=r-a,i=o<=t.height()*c,i&&h)?n.$$phase?u.$eval(e.infiniteScroll):u.$apply(e.infiniteScroll):i?s=!0:void 0},e.infiniteScrollAlwaysDisabled!==null&&(a=u.$watch(function(){return r(e.infiniteScrollAlwaysDisabled)(u)},function(n){n!==null&&typeof n!="undefined"&&(l=!n)}));t.on("scroll",o);return u.$on("manualInfiniteScrollCheck",o),u.$on("$destroy",function(){return a&&a(),t.off("scroll",o)}),i(function(){if(e.infiniteScrollImmediateCheck){if(u.$eval(e.infiniteScrollImmediateCheck))return o()}else return o()},0)}}}]);

;// ~/viewapp/common/directives/stickToTopDirective.js
"use strict";robloxApp.directive("stickToTop",["$window",function(n){return{restrict:"A",scope:{isElementAtTop:"="},link:function(t,i){var u=i[0].getBoundingClientRect(),r=u.top;angular.element(n).bind("scroll",function(){var i=n.pageYOffset;!t.isElementAtTop&&i>=r?(t.isElementAtTop=!0,t.$apply()):t.isElementAtTop&&i<=r&&(t.isElementAtTop=!1,t.$apply())})}}}]);

;// ~/viewapp/pages/avatar/directives/pageFocusDirective.js
"use strict";avatar.directive("pageFocus",["$document","$log",function(n,t){return{restrict:"A",scope:{focusGained:"&focusGained",focusLost:"&focusLost"},link:function(n){angular.element(document).ready(function(){var i=null;$(window).focus(function(){var u,r;t.debug("Window focus"),u=+new Date,i!==null&&(r=(u-i)/1e3,n.secondsIdle=r,n.focusGained({secondsIdle:r}))}),$(window).blur(function(){t.debug("Window blur"),i=+new Date,n.focusLost()})})}}}]);

;// ~/viewapp/pages/avatar/directives/onInputFinishedDirective.js
"use strict";avatar.directive("onInputFinished",["$timeout","$log",function(n,t){return{scope:{fn:"&onInputFinished"},restrict:"A",link:function(n,i){var r=/Edge/.test(navigator.userAgent);if(r&&i.is("input[type=range]")){t.debug("Is Edge, using input event");i.on("input",function(){t.debug("onInputFinished input"),n.$apply(n.fn())})}else{t.debug("Is not Edge, using change event");i.on("change",function(){t.debug("onInputFinished change"),n.$apply(n.fn())})}}}}]);

;// ~/viewapp/pages/avatar/directives/onBlurDirective.js
"use strict";avatar.directive("onBlur",["$document","$log","$timeout",function(n,t,i){return{restrict:"A",scope:{blurTarget:"=",onBlur:"&"},link:function(r,u){var o=r.blurTarget,e=function(i){u.has(i.target).length>0?t.debug("clicked inside element"):(t.debug("clicked outside element"),n.off("click touchstart",e),o.active=!1,r.$apply(),r.$apply(r.onBlur()))},s=r.$watch("blurTarget.active",function(){typeof o.active!="undefined"&&(o.active?(t.debug("binding click handler"),i(function(){n.on("click touchstart",e)},0)):(t.debug("unbinding click handler"),n.off("click touchstart",e)))});r.$on("$destroy",function(){s&&s(),n.off("click touchstart",e)})}}}]);

;// ~/viewapp/pages/avatar/directives/avatarItemsDirective.js
"use strict";avatar.directive("avatarItems",["$log",function(){return{restrict:"A",replace:!1,templateUrl:"avatar-items-list",link:function(){}}}]);

;// ~/viewapp/pages/avatar/controllers/avatarController.js
"use strict";avatar.controller("avatarController",["$scope","$log","$timeout","$q","$rootScope","avatarService","robloxModalService","avatarConstants","avatarUrlConstants","$anchorScroll","googleAnalyticsEventsService",function(n,t,i,r,u,f,e,o,s,h,c){function y(){var i=f.getAvatar();return i.then(function(i){t.debug("Retrieved avatar details"),a=i,tt(a.assets),nt(),n.$broadcast(o.events.avatarDetailsLoaded,a)},function(){}),i}function ri(){var i=f.getRules();return i.then(function(i){t.debug("Retrieved avatar rules"),v=i,n.$broadcast(o.events.avatarRulesLoaded,v);var r={id:32,name:"Package",maxCount:0};v.wearableAssetTypes.push(r),angular.forEach(v.wearableAssetTypes,function(n){wt[n.id]=n,bt[n.name]=n})},function(){}),i}function gt(n){return wt[n]}function it(){return n.tabWithOpenMenu&&n.tabWithOpenMenu.active}function oi(n){var i="download"+(+new Date).toString(),t=$("<iframe />",{id:i}).appendTo("body");t.attr("src",n),t.hide()}function ni(t,r){if(typeof r=="undefined"&&(r=o.outfits.downloadOutfitImageMaxRetries),r<=0){n.systemFeedback.error(o.outfits.unableToDownloadThumbnail);return}f.getOutfitThumbnailForDownload(t.id).then(function(n){if(n&&n.Final){var u=Roblox.Endpoints.generateAbsoluteUrl("/outfits/download")+"?userOutfitId="+t.id;oi(u)}else r-=1,i(function(){ni(t,r)},o.outfits.downloadOutfitImageTimeout)},function(){n.systemFeedback.error(o.outfits.unableToDownloadThumbnail)})}function ti(n){var i=!1,t;if(n&&n.errors)for(t=0;t<n.errors.length;t++)n.errors[t].code===o.outfits.outfitErrorCodes.invalidOutfitName&&(i=!0);return i}function si(){var i="outfit-name-modal",r={title:o.outfits.createOutfitTitle,description:o.outfits.createOutfitDescription,buttonName:o.outfits.createOutfitButton,nameInputPlaceholder:o.outfits.nameInputPlaceholder};e.open(i,"",r).then(function(){t.debug("User clicked create outfit");var i=e.getScope(),r=i.outfitName;y().then(function(){var t=a.bodyColors,i=p(a.assets);f.createOutfit(r,t,i).then(function(){n.$broadcast(o.events.outfitsChanged,null),n.systemFeedback.success(o.outfits.successfulCreate)},function(t){var i,r;n.$broadcast(o.events.outfitsChanged,null),i=t&&t.errors&&t.errors[0]&&t.errors[0].code===o.outfits.outfitErrorCodes.maxOutfits,i?n.systemFeedback.error(o.outfits.maxNumberOfOutfits):(r=ti(t),r?n.systemFeedback.error(o.outfits.invalidOutfitName):n.systemFeedback.error(o.outfits.errorCreatingOutfit))})},function(){})},function(){})}function hi(i){var r="outfit-update-modal",u={};e.open(r,"",u).then(function(){t.debug("User clicked update outfit");var r=e.getScope();y().then(function(){var r=a.bodyColors,u=p(a.assets),e={bodyColors:r,assetIds:u};f.patchOutfit(i.id,e).then(function(){t.debug("Updated outfit"),n.systemFeedback.success(o.outfits.successfulUpdate),n.addItemThumbnailAndLink(i)},function(t){var i=t&&t.errors&&t.errors[0]&&t.errors[0].code===1;i?n.systemFeedback.error(o.outfits.updateFailedOutfitDeleted):n.systemFeedback.error(o.outfits.errorUpdatingOutfit)})},function(){})},function(){})}function ci(i){var r="outfit-delete-modal",u={};e.open(r,"",u).then(function(){t.debug("User clicked delete outfit"),f.deleteOutfit(i.id).then(function(){n.$broadcast(o.events.outfitDeleted,i),n.systemFeedback.success(o.outfits.successfulDelete)},function(){n.systemFeedback.error(o.outfits.errorDeletingOutfit)})},function(){t.debug("There was an error.")})}function vi(i){var r="outfit-name-modal",u={title:o.outfits.renameOutfitTitle,description:o.outfits.renameOutfitDescription,buttonName:o.outfits.renameOutfitButton,nameInputPlaceholder:o.outfits.nameInputPlaceholder};e.open(r,"",u).then(function(){t.debug("User clicked rename outfit");var u=e.getScope(),r=u.outfitName,s={name:r};f.patchOutfit(i.id,s).then(function(){i.name=r,n.systemFeedback.success(o.outfits.successfulRename)},function(t){var i=ti(t);i?n.systemFeedback.error(o.outfits.invalidOutfitName):n.systemFeedback.error(o.outfits.errorRenamingOutfit)})},function(){})}function k(n){switch(n){case"Hat":case"Hair Accessory":case"Face Accessory":case"Neck Accessory":case"Shoulder Accessory":case"Front Accessory":case"Back Accessory":case"Waist Accessory":return!0;default:return!1}}function dt(n){switch(n.assetType.name){case"Climb Animation":case"Fall Animation":case"Jump Animation":case"Run Animation":case"Swim Animation":case"Walk Animation":return!1;default:return!0}}function kt(){var t=n.selectedMenu;n.showAdvancedAccessoriesLink=t&&t.assetType&&k(t.assetType)}function pi(){var n="advanced-accessories-double-check-modal",t={};return e.open(n,"",t)}function ki(i,r,u){var f=pi();t.debug(f),f.then(function(){t.debug("Confirmed double check modal");var f=[];angular.forEach(r,function(n){n.id!==""&&f.push(n.id)}),angular.forEach(i,function(n){f.push(n.id)}),ct(f,!0).then(function(i){if(i&&i.invalidAssetIds&&i.invalidAssetIds.length>0){var f=i.invalidAssetIds;t.debug(f),angular.forEach(r,function(n){t.debug(n);var i=n.id===""||f.indexOf(parseInt(n.id))===-1;n.valid=i}),c.fireEvent(o.googleAnalytics.category,o.googleAnalytics.advancedAccessoriesAction,o.googleAnalytics.saveFailedLabel)}else n.systemFeedback.success(o.assets.savedAdvancedAccessories),t.debug("Successfully saved advanced assets"),u(),c.fireEvent(o.googleAnalytics.category,o.googleAnalytics.advancedAccessoriesAction,o.googleAnalytics.saveLabel)},function(){n.systemFeedback.error(o.assets.errorUpdatingItems)})},function(){t.debug("Cancelled double check modal")})}function wi(t){var r=[],u=3,i=0;for(angular.forEach(t,function(t){if(!(i>=u)&&t.assetType.name==="Hat"){var f={};f.type="Asset",angular.extend(f,t),n.addItemThumbnailAndLink(f),i++,r.push(f)}});i<u;)i++,r.push({empty:!0});n.hatSlots=r}function p(n){var t=[];return angular.forEach(n,function(n){t.push(n.id)}),t}function ii(n){var i=p(n),t={};return angular.forEach(i,function(n){t[n]=!0}),t}function bi(n){var t=gt(n);return t?t.maxNumber:1}function tt(n){l=n,g=ii(n)}function nt(){var t=p(l);n.$broadcast(o.events.wornAssetsChanged,t),wi(l)}function at(n){var t=o.outfits.countNumbersInEnglish;return n>5?n.toString():t[n]}function yi(t){f.wearOutfit(t.id).then(function(t){var i,r,u;n.refreshThumbnail(),y(),i=t&&t.invalidAssetIds&&t.invalidAssetIds.length>0,i?(r=t.invalidAssetIds.length,u="You no longer own "+at(r)+" of the items in this outfit.",n.systemFeedback.error(u)):n.systemFeedback.success(o.outfits.successfulWear)},function(){n.systemFeedback.error(o.outfits.errorWearingOutfit)})}function ct(i,r){var u=f.setWearingAssets(i);return u.then(function(){t.debug("Success with set-wearing-assets"),b?n.refreshThumbnail():b=!0,r&&y()},function(){t.debug("Error with set-wearing-assets")}),u}function st(t){var r=l;tt(t),nt();var u=p(l),f=!1,i=ct(u,f);return i.then(function(){},function(){n.systemFeedback.error(o.assets.errorUpdatingItems),tt(r),nt()}),i}function ai(t){f.wearAsset(t.id).then(function(t){var i,r,u;n.refreshThumbnail(),y(),i=t&&t.invalidAssetIds&&t.invalidAssetIds.length>0,i&&(r=t.invalidAssetIds.length,u="You no longer own "+at(r)+" of the items in this outfit.",n.systemFeedback.error(u))},function(){n.systemFeedback.error(o.packages.errorWearingPackage)})}function li(n){function e(n){return!u&&k(n.name)?"Accessory":n.name}function f(n){var s=n.assetType,h=!u&&k(s.name)?o.assets.maxAccessories:bi(s.id),f=e(n.assetType);i[f]=typeof i[f]=="undefined"?0:i[f],i[f]<h?(i[f]+=1,r.push(n)):t.debug("Removed asset "+n.name+" because it exceeded wearing limits")}var r=[],i={},u=k(n.assetType.name);return f(n),angular.forEach(l,function(n){f(n)}),b=dt(n),st(r)}function ot(n){var t=[];return angular.forEach(l,function(i){i.id!==n.id&&t.push(i)}),b=dt(n),st(t)}function lt(n){for(var r="#000000",u,t,i=0;i<v.bodyColorsPalette.length;i++)u=v.bodyColorsPalette[i],u.brickColorId===n&&(r=u.hexColor);if(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),t===null)throw new Error("Unable to parse bodyColor with ID="+n+" and retrieved hex="+r);return{R:parseInt(t[1],16),G:parseInt(t[2],16),B:parseInt(t[3],16)}}function yt(n,t){var i=lt(n),r=lt(t),u=Roblox.AvatarBodyColorDifference.DeltaE(i,r);return u<v.minimumDeltaEBodyColorDifference}function ei(t){var i=t.torsoColorId===t.leftLegColorId&&t.leftLegColorId===t.rightLegColorId;return n.avatarDataModel.defaultClothingForSimilarColorsEnabled?i||yt(t.torsoColorId,t.rightLegColorId)||yt(t.torsoColorId,t.leftLegColorId):i}function fi(n){for(var i,t=0;t<l.length;t++)if(i=l[t],i.assetType.name===n)return!0;return!1}function ui(n){if(n===null||a===null||!ei(n))return!1;var t=fi("Pants");return t?!1:!0}function vt(){d!==null&&(i.cancel(d),d=null)}function rt(){if(n.avatarDataModel!==null&&n.avatarDataModel.enableDefaultClothingMessage){if(ht&&!n.avatarDataModel.showDefaultClothingMessageOnPageLoad){ht=!1;return}var t=ui(ft),r=et!==t;et=t,t?r&&(n.defaultClothingOverlayVisible=!0,vt(),d=i(function(){n.defaultClothingOverlayVisible=!1},o.defaultClothing.displayTimeInMilliseconds)):(n.defaultClothingOverlayVisible=!1,vt())}}var l,g,b,ut,w,pt;t.debug("avatarController starting"),n.pageLoaded=!1,n.avatarDataModel=Roblox.AvatarData,n.systemFeedback={error:function(n){Roblox.BootstrapWidgets.ToggleSystemMessage($(".alert-warning"),100,2e3,n)},loading:function(n){Roblox.BootstrapWidgets.ToggleSystemMessage($(".alert-loading"),100,2e3,n)},success:function(n){Roblox.BootstrapWidgets.ToggleSystemMessage($(".alert-success"),100,2e3,n)}},n.redrawFloodchecked=!1,n.refreshThumbnail=function(){Roblox.ThumbnailView.reloadThumbnail()},n.redrawThumbnail=function(){f.redrawThumbnail().then(function(){n.refreshThumbnail()},function(r){var u=r&&r.errors&&r.errors[0]&&r.errors[0].code===1;u?(n.systemFeedback.error(o.thumbnail.redrawFloodchecked),t.debug("Disabled redraw button"),n.redrawFloodchecked=!0,i(function(){t.debug("Re-enabled redraw"),n.redrawFloodchecked=!1},o.thumbnail.waitForThumbnailRegenerationInSeconds*1e3)):n.systemFeedback.error(o.thumbnail.redrawThumbnailFailed)})},n.scaleEnabled=!1;var v=null,a=null,wt={},bt={};n.getAssetTypeName=function(n){var t=gt(n);return t&&t.name?t.name:null},n.getAssetTypeByName=function(n){return bt[n]},n.loadAvatarPage=function(){var i=ri(),u=y();r.all([i,u]).then(function(){t.debug("Retrieved avatar rules and details"),n.pageLoaded=!0},function(){n.systemFeedback.error("Unable to load avatar page")})},n.tabs=o.tabs,n.selectedTab=null,n.selectedMenu=null,n.tabWithOpenMenu=null,n.isMenuOpen=!1,n.mouseLeftTabMenu=function(){it()||(n.tabWithOpenMenu=null,n.isMenuOpen=!1)},n.onTabBlur=function(){n.tabWithOpenMenu=null,n.isMenuOpen=!1},n.onTabClick=function(t){if(t.noMenus)n.onMenuClick(t,null);else{if(it()){if(n.tabWithOpenMenu===t){n.tabWithOpenMenu=null,n.isMenuOpen=!1,t.active=!1;return}n.tabWithOpenMenu.active=!1,n.tabWithOpenMenu=t,n.isMenuOpen=!0,t.active=!0;return}n.isMenuOpen=!0,n.tabWithOpenMenu=t,t.active=!0}},n.onTabHover=function(t){it()||(n.tabWithOpenMenu=t,n.isMenuOpen=!0)},n.scrollToTop=function(){var n=angular.element("#wrap").hasClass("pinned");n&&h("tab-content-top")},n.onMenuClick=function(t,i){n.isMenuOpen=!1,n.tabWithOpenMenu=null,n.selectedTab=t,n.selectedMenu=i,n.scrollToTop(),kt(),n.$broadcast(o.events.menuClicked,{tab:t,menu:i}),c.viewVirtual(s.www.avatar+"/"+t.name+(i==null?"":"/"+i.name))},n.openOutfitMenu=function(n){n.active=!0},n.closeOutfitMenu=function(n){n.active&&(n.active=!1)},n.onItemMenuButtonClicked=function(n,t,i){t.active=!1;switch(i.name){case"Delete":ci(t);break;case"Update":hi(t);break;case"Rename":vi(t);break;case"DownloadImage":ni(t)}},n.outfitMenuOptions=o.outfits.menuOptions,n.createOutfitClicked=function(){si()},n.showAdvancedAccessoriesLink=!0,n.openAdvancedAccessories=function(){function a(n){return f.exec(n)!==null}function v(n){var t=u.exec(n);return t!==null&&t[1]?t[1]:null}var h="advanced-accessories-modal",n=[],r=[],i,u,f,s;for(angular.forEach(l,function(t){k(t.assetType.name)?n.push({id:t.id,valid:!0}):r.push(t)}),i=0;i<10;i++)typeof n[i]=="undefined"&&(n[i]={id:"",valid:!0});u=/catalog\/(\d+)/i,f=/^\d+$/i,s={advancedAccessorySlots:n,onChange:function(n){var t=v(n.id);t!==null&&(n.id=t),n.valid=n.id===""||a(n.id)},onSaveClick:function(i){t.debug("submitFunc",i),ki(r,n,i)}},e.open(h,"",s).then(function(){t.debug("User clicked save assets in advanced view")},function(){t.debug("User cancelled out of assets advanced view"),c.fireEvent(o.googleAnalytics.category,o.googleAnalytics.advancedAccessoriesAction,o.googleAnalytics.closeLabel)}),c.fireEvent(o.googleAnalytics.category,o.googleAnalytics.advancedAccessoriesAction,o.googleAnalytics.openLabel)},n.onItemClicked=function(n,t){if(t.preventDefault(),n.type==="Outfit")yi(n);else if(n.type==="Asset"){if(n.assetType.name==="Package"){ai(n);return}n.selected?(n.selected=!1,ot(n)):(n.selected=!0,li(n))}},n.addItemThumbnailAndLink=function(n){n.thumbnail={Final:!1,Url:""};switch(n.type){case"Asset":n.thumbnail.RetryUrl=s.www.assetThumbnail+n.id,n.link=Roblox.Endpoints.getCatalogItemUrl(n.id,n.name);break;case"Outfit":n.thumbnail.RetryUrl=s.www.outfitThumbnail+n.id}},n.hatSlots=[],n.onHatSlotClicked=function(n){ot(n)},l=[],g=[],n.updateItemSelected=function(n){n.selected=n.type==="Asset"&&g[n.id]===!0},b=!0,n.defaultClothingOverlayVisible=!1,n.defaultClothingMessage=o.defaultClothing.wearClothing;var et=null,d=null,ft=null,ht=!0;n.$on(o.events.avatarDetailsLoaded,function(n,t){ft=t.bodyColors,rt()}),u.$on(o.events.bodyColorsChanged,function(n,t){ft=t,rt()}),ut=!0,n.$on(o.events.wornAssetsChanged,function(){if(ut){ut=!1;return}rt()}),w=n.tabs[0],pt=w.menus?w.menus[0]:w.rows[0].menus[0];n.onMenuClick(w,pt);n.loadAvatarPage(),kt(),n.pageFocused=function(i){t.debug("Page didn't have focus for ",i),i>o.page.idleRefreshTimeInSeconds&&(y(),n.refreshThumbnail())}}]);

;// ~/viewapp/pages/avatar/controllers/avatarScaleController.js
"use strict";avatar.controller("avatarScaleController",["$scope","$log","$timeout","$q","avatarService","avatarConstants",function(n,t,i,r,u,f){function o(n,t){t.min=n.min*100,t.max=n.max*100}function s(t){n.scales.height.value=t.scales.height*100,n.scales.width.value=t.scales.width*100,n.scaleHeadEnabled&&(n.scales.head.value=t.scales.head*100)}n.scales={height:{label:"Height",min:0,max:100,value:100,increment:5},width:{label:"Width",min:0,max:100,value:100,increment:5}},n.scaleHeadEnabled=!1,n.updateScales=function(){t.debug("updateScales");var i={height:n.scales.height.value/100,width:n.scales.width.value/100};n.scaleHeadEnabled&&(i.head=n.scales.head.value/100),u.setScales(i).then(function(){n.refreshThumbnail()},function(){n.systemFeedback.error(f.scales.failedToUpdate)})};var h=!1,e=null;n.scales.height.increment=n.avatarDataModel.scaleHeightIncrement*100,n.scales.width.increment=n.avatarDataModel.scaleWidthIncrement*100,n.scales.head={label:"Head",min:0,max:100,value:100,increment:5},n.scales.head.increment=n.avatarDataModel.scaleHeadIncrement*100,n.scaleHeadEnabled=!0,n.$on(f.events.avatarRulesLoaded,function(i,r){t.debug("Avatar rules loaded for scale controller"),o(r.scales.height,n.scales.height),o(r.scales.width,n.scales.width),n.scaleHeadEnabled&&o(r.scales.head,n.scales.head),h=!0,e!=null&&(s(e),e=null)}),n.$on(f.events.avatarDetailsLoaded,function(n,i){t.debug("Avatar details loaded for scale controller"),h?s(i):e=i})}]);

;// ~/viewapp/pages/avatar/controllers/avatarTypeController.js
"use strict";avatar.controller("avatarTypeController",["$scope","$log","$timeout","$q","avatarService","avatarConstants",function(n,t,i,r,u,f){function e(){n.$parent.scaleEnabled=n.avatarType==="R15"}n.avatarType=f.avatarType.defaultOnPageLoad,n.avatarTypes=f.avatarType.avatarTypes,n.updateAvatarType=function(){var t=n.avatarType;e(),u.setAvatarType(t).then(function(){n.refreshThumbnail()},function(){n.systemFeedback.error(f.avatarType.failedToUpdate)})},n.$on(f.events.avatarDetailsLoaded,function(t,i){n.avatarType=i.playerAvatarType,e()})}]);

;// ~/viewapp/pages/avatar/controllers/avatarItemsController.js
"use strict";avatar.controller("avatarItemsController",["$scope","$log","$timeout","$q","avatarService","cursorPaginationService","avatarConstants","avatarUrlConstants","$document",function(n,t,i,r,u,f,e,o,s){function a(){var t=Roblox.AvatarData.numberOfRecommendations,n=h.getPagingParameter(n);s.triggerHandler("Roblox.Recommendations.Init",[null,n,t])}function w(){var t=h.getPagingParameter("assetTypeId"),i=n.getAssetTypeName(t);n.absoluteCatalogUrl=Roblox.Endpoints.generateAbsoluteUrl(l[t]||o.www.catalog),s.triggerHandler("Roblox.Recommendations.GetItems",[t,i])}function b(){s.triggerHandler("Roblox.Recommendations.Clear")}function v(){n.items=[],c={},n.loading=!0,b(),h.loadFirstPage().then(function(){n.loading=!1},function(){})}function y(){var t=n.selectedMenu,i=t.fullLabel?t.fullLabel:t.label;n.emptyMessage=e.assets.emptyMessage+i}function p(){return n.selectedTab.tabType==="Assets"}var c,l,h;t.debug("avatarItemsController"),n.loading=!1,n.items=[],n.emptyMessage="",c={},n.absoluteCatalogUrl=Roblox.Endpoints.generateAbsoluteUrl(o.www.catalog),l=n.avatarDataModel.assetTypeToCatalogUrlMap,h=f.createPager({limitName:"itemsPerPage",sortOrder:f.sortOrder.Desc,pageSize:30,loadPageSize:50,getDataListFromResponse:function(n){return n.Data?n.Data.Items:[]},getNextPageCursorFromResponse:function(n){return n.Data?n.Data.nextPageCursor:null},getErrorsFromResponse:function(n){return n.isValid?[]:[{code:0,message:n.Data||n.error||""}]},getCacheKeyParameters:function(n){return{assetTypeId:n.assetTypeId}},getRequestUrl:function(){return o.www.inventoryJson},beforeLoad:function(){},loadSuccess:function(i){var r=[],u=h.getPagingParameter("assetTypeId"),f=n.getAssetTypeName(u);angular.forEach(i,function(i){var e={};if(e.name=i.Item.Name,e.id=i.Item.AssetId,e.type="Asset",n.addItemThumbnailAndLink(e),n.$parent.updateItemSelected(e),e.expired=i.UserItem&&i.UserItem.IsRentalExpired,e.thumbnail=i.Thumbnail,e.assetType={id:u,name:f},e.expired){t.debug(e.name+" is expired!");return}c[e.id]?t.debug(e.name+" is a duplicate"):(c[e.id]=!0,r.push(e))}),[].push.apply(n.items,r),h.hasNextPage()?n.$emit("manualInfiniteScrollCheck"):(t.debug("Doesn't have next page, loading recommendations"),w())},loadError:function(){n.systemFeedback.error(e.assets.couldNotLoadList)}}),n.getNextPage=function(){if(n.selectedTab.tabType==="Assets"&&h.canLoadNextPage()){var t=h.loadNextPage();n.loading=!0,t.then(function(){n.loading=!1},function(){})}},n.$on(e.events.wornAssetsChanged,function(){angular.forEach(n.items,function(t){n.$parent.updateItemSelected(t)})}),n.$on(e.events.menuClicked,function(t,i){var u=i.menu,r;p()&&u.assetType&&(r=n.getAssetTypeByName(u.assetType),r&&(h.setPagingParameter("assetTypeId",r.id),y(),v()))}),h.setPagingParameter("userId",n.avatarDataModel.userId),h.setPagingParameter("assetTypeId",e.assets.hatAssetTypeId),y(),a();$(document).on("Roblox.Recommendations.FinishedInit",function(){a()});p()&&v()}]);

;// ~/viewapp/pages/avatar/controllers/recentItemsController.js
"use strict";avatar.controller("recentItemsController",["$scope","$log","$timeout","$q","avatarService","avatarConstants",function(n,t,i,r,u,f){function h(){return n.selectedTab.name==="Recent"}function s(){!h()||e||n.loading||(n.loading=!0,n.items=[],u.getRecentItems(o).then(function(t){var i,r;for(n.items=[],i=0;i<t.data.length;i++)r=t.data[i],n.addItemThumbnailAndLink(r),n.updateItemSelected(r);n.items=t.data,n.loading=!1,e=!0},function(){n.systemFeedback.error(f.recent.couldNotLoadList)}))}n.loading=!1,n.items=[],n.emptyMessage=f.recent.emptyMessage;var o="All",e=!1;n.$on(f.events.wornAssetsChanged,function(){angular.forEach(n.items,function(t){n.$parent.updateItemSelected(t)})}),n.$on(f.events.outfitDeleted,function(t,i){angular.forEach(n.items,function(t,r){t.id===i.id&&n.items.splice(r,1)})}),n.$on(f.events.menuClicked,function(n,t){var i=t.tab,r=t.menu;i.name==="Recent"&&(o=r.name,e=!1,s())}),s()}]);

;// ~/viewapp/pages/avatar/controllers/bodyColorsController.js
"use strict";avatar.controller("bodyColorsController",["$scope","$log","$timeout","$q","avatarService","robloxModalService","avatarConstants","googleAnalyticsEventsService","$rootScope",function(n,t,i,r,u,f,e,o,s){function v(t,i){var r=i.brickColorId,u=n.myBodyColors;switch(t.name){case"all":u.headColorId=r,u.torsoColorId=r,u.leftArmColorId=r,u.rightArmColorId=r,u.leftLegColorId=r,u.rightLegColorId=r;break;case"headColorId":u.headColorId=r;break;case"torsoColorId":u.torsoColorId=r;break;case"leftArmColorId":u.leftArmColorId=r;break;case"rightArmColorId":u.rightArmColorId=r;break;case"leftLegColorId":u.leftLegColorId=r;break;case"rightLegColorId":u.rightLegColorId=r}l()}function l(){n.currentColorId=y(n.myBodyColors)?n.myBodyColors.headColorId:null}function y(n){var t=n.headColorId;return n.headColorId===t&&n.torsoColorId===t&&n.rightArmColorId===t&&n.leftArmColorId===t&&n.rightLegColorId===t&&n.leftLegColorId===t}function p(t,i){return i.name==="all"?n.currentColorId===t:n.myBodyColors[i.name]===t}function w(){return u.setBodyColors(n.myBodyColors).then(function(){s.$broadcast(e.events.bodyColorsChanged,n.myBodyColors),n.refreshThumbnail()},function(){n.systemFeedback.error(e.bodyColors.failedToUpdate)})}function a(){var n=e.googleAnalytics.closeLabel;h&&(n=e.googleAnalytics.saveLabel),o.fireEvent(e.googleAnalytics.category,e.googleAnalytics.advancedBodyColorsAction,n)}n.myBodyColors={headColorId:0,torsoColorId:0,rightArmColorId:0,leftArmColorId:0,rightLegColorId:0,leftLegColorId:0},n.currentColorId=null,n.bodyParts=[{label:"All",name:"all"},{label:"Head",name:"headColorId"},{label:"Torso",name:"torsoColorId"},{label:"Left Arm",name:"leftArmColorId"},{label:"Right Arm",name:"rightArmColorId"},{label:"Left Leg",name:"leftLegColorId"},{label:"Right Leg",name:"rightLegColorId"}];var c=n.bodyParts[0],h=!1;n.colorsPalette=[],n.advancedPalette=[],n.isColorSelected=function(t){return t.brickColorId===n.currentColorId},n.onColorDotClicked=function(n,t){return typeof t=="undefined"&&(t=c),v(t,n),h=!0,w()},n.openAdvancedBodyColors=function(){t.debug("advanced body colors"),h=!1;var r="advanced-body-colors-modal",i={colorsPalette:n.advancedPalette,bodyParts:n.bodyParts,selectedBodyPart:c,onColorDotClicked:n.onColorDotClicked,isColorSelected:function(n){return p(n.brickColorId,i.selectedBodyPart)}};f.open(r,"",i).then(function(){a()},function(){a()}),o.fireEvent(e.googleAnalytics.category,e.googleAnalytics.advancedBodyColorsAction,e.googleAnalytics.openLabel)},n.$on(e.events.avatarRulesLoaded,function(t,i){n.colorsPalette=i.basicBodyColorsPalette,n.advancedPalette=i.bodyColorsPalette}),n.$on(e.events.avatarDetailsLoaded,function(t,i){n.myBodyColors=i.bodyColors,l()})}]);

;// ~/viewapp/pages/avatar/controllers/outfitsController.js
"use strict";avatar.controller("outfitsController",["$scope","$log","$timeout","$q","avatarService","cursorPaginationService","avatarConstants",function(n,t,i,r,u,f,e){n.loading=!1,n.items=[],n.emptyMessage=e.outfits.emptyMessage;var o=!0,s=1,h=50,c=function(){s=1,o=!0,n.loading=!1,n.items=[],n.getNextPage()};n.getNextPage=function(){n.selectedTab.tabType==="Outfits"&&!n.loading&&o&&(n.loading=!0,u.getOutfits(n.avatarDataModel.userId,s,h).then(function(t){n.loading=!1,o=t.data.length===h,s+=1,angular.forEach(t.data,function(t){t.type="Outfit",n.addItemThumbnailAndLink(t)}),n.items=n.items.concat(t.data)},function(){n.systemFeedback.error(e.outfits.failedToLoadOutfits)}))},n.$on(e.events.outfitsChanged,function(){c()}),n.$on(e.events.outfitDeleted,function(t,i){angular.forEach(n.items,function(t,r){t.id===i.id&&n.items.splice(r,1)})}),n.$on(e.events.menuClicked,function(n,t){var i=t.tab;i.name==="Outfits"&&c()})}]);

;// ~/viewapp/common/constants/assetTypes.js
robloxApp.constant("assetTypes",{ids:{gamePasses:21,badges:34}});

;// ~/viewapp/pages/recommendations/recommendations.js
"use strict";var recommendations=angular.module("recommendations",[]);

;// ~/viewapp/pages/recommendations/controllers/recommendationsController.js
"use strict";recommendations.controller("recommendationsController",["$scope","recommendationsService","$log","$document",function(n,t,i,r){var u=0;n.initialize=function(){n.recommendationsLayout=n.recommendationsLayout?n.recommendationsLayout:{numberOfItemsToDisplay:0,assetId:0},n.recommendationsData=n.recommendationsData?n.recommendationsData:{items:[],assetTypeName:"items"}},n.initializeWithModelValues=function(t,i,r){n.recommendationsLayout.numberOfItemsToDisplay=r,n.recommendationsLayout.assetId=t,n.getItems(i)};$(document).on("Roblox.Recommendations.Init",function(t,i,r,u){n.initializeWithModelValues(i,r,u)});$(document).on("Roblox.Recommendations.GetItems",function(t,i,r){n.getItems(i,r)});$(document).on("Roblox.Recommendations.Clear",function(){n.recommendationsData.items=[],u++});n.getItems=function(r,f){if(n.recommendationsData.items=[],t.canShowRecommendationsForAssetType(r)){f&&(n.recommendationsData.assetTypeName=f);var o=Roblox.InventoryData.inventoryDomain,e=Roblox.InventoryData.useInventorySite,s=++u;t.beginUpdateRecommendedItems(n.recommendationsLayout.assetId,r,n.recommendationsLayout.numberOfItemsToDisplay,o,e).then(function(t){if(s!==u){i.debug("Request came back but was not latest");return}t&&t.data?e?(angular.forEach(t.data,function(n){n.HasPrice=n.Item&&n.Item.Price}),n.recommendationsData.items=t.data):(angular.forEach(t.data.Items,function(n){n.HasPrice=n.Item&&n.Item.Price}),n.recommendationsData.items=t.data.Items):i.debug(" ------ beginUpdateRecommendedItems no data received -------")},function(){i.debug(" ------ beginUpdateRecommendedItems error -------")})}},n.initialize(),r.triggerHandler("Roblox.Recommendations.FinishedInit")}]);

;// ~/viewapp/pages/recommendations/services/recommendationsPageService.js
"use strict";recommendations.factory("recommendationsService",["httpService","assetTypes","$log",function(n,t){return{canShowRecommendationsForAssetType:function(n){var i=t.ids;return n>0&&n!==i.gamePasses&&n!==i.badges},beginUpdateRecommendedItems:function(t,i,r,u,f){var s=u+"/v1/recommendations/"+i,o={numItems:r},e;return t>0&&(o.contextAssetId=t),e={url:s},f||(e.url="/assets/recommended-json",e.noCache=!0,o.assetTypeId=i),n.httpGet(e,o)}}}]);

;// utilities/popover.js
var Roblox=Roblox||{};Roblox.Popover=function(){"use strict";function u(n,i){var u=$(n),f=$(i),e=$(t),h=e.outerWidth(),c=u.find(r).outerWidth(),l=e.offset().left,o=0,s;(u.hasClass("bottom")||u.hasClass("top"))&&(s=$("body").outerWidth()-parseInt(f.width()+f.offset().left),o=$("body").outerWidth()-l-s-h/2-c/2,u.find(r).css("right",o))}function f(t){return t.data("hiddenClassName")&&(n=t.data("hiddenClassName")),n}function o(){$(t).on("click touchstart",function(t){var s=$(this).data("bind"),h=s?"#"+s:i,r=$(h),c=$(this).data("container"),l=c?"#"+c:e,o;n=f(r),r.hasClass("manual")||r.toggleClass(n),o=!r.hasClass(n),$(document).triggerHandler("Roblox.Popover.Status",{isOpen:o,eventType:t.type}),o&&u(h,l)})}function s(){$("body").on("click touchstart",function(r){$(t).each(function(){var u=$(this).data("bind"),t=u?$("#"+u):$(i),o="roblox-popover-open-always",e="roblox-popover-close";if(n=f(t),$(t).hasClass(o)&&!$(r.target).hasClass(e))return!1;!$(r.target).hasClass(e)&&($(this).is(r.target)||$(this).has(r.target).length!==0||t.has(r.target).length!==0||t.hasClass(n)||r.type!=="click")||(t.addClass(n),$(document).triggerHandler("Roblox.Popover.Status",{isHidden:!0,eventType:r.type}))})})}function h(){o(),s()}var t=".roblox-popover",i=".roblox-popover-content",e=".roblox-popover-container",r=".arrow",n="hidden";return $(function(){h()}),{setUpTrianglePosition:u}}();

;// Navigation/ShopAmazon.js
Roblox=Roblox||{},Roblox.ShopAmazon=function(){function t(){$("a.roblox-shop-interstitial").on("click",function(n){n.preventDefault(),Roblox.Dialog.open({titleText:"You are leaving ROBLOX",bodyContent:r(),allowHtmlContentInBody:!0,acceptText:"Continue to Shop",declineText:"Cancel",xToCancel:!0,acceptColor:Roblox.Dialog.green,declineColor:Roblox.Dialog.white,onAccept:i})})}function i(){window.open(n,"_blank")}function r(){return"<p>Your are about to visit our amazon store. You will be redirected to ROBLOX merchandise store on <a class='text-link' target='_blank' href='"+n+"' >Amazon.com</a>.</p> <p>Please note that you need to be over 18 to purchase products online. The amazon store is not part of ROBLOX.com and is governed by a separate privacy policy.</p>"}function u(){t()}var n="https://www.amazon.com/roblox?&_encoding=UTF8&tag=r05d13-20&linkCode=ur2&linkId=4ba2e1ad82f781c8e8cc98329b1066d0&camp=1789&creative=9325";$(function(){u()})}();

;// GenericConfirmation.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.GenericConfirmation=="undefined"&&(Roblox.GenericConfirmation=function(){function w(){n.isOpen=!1,t()}function k(t){var a,e,o,s,l;n.isOpen=!0,a={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Resources.GenericConfirmation.yes,declineText:Roblox.Resources.GenericConfirmation.No,acceptColor:u,declineColor:f,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){}},t=$.extend({},a,t),c.overlayClose=t.dismissable,c.escClose=t.dismissable,e=$(i),e.html(t.acceptText),e.attr("class","btn-large "+t.acceptColor),e.unbind(),e.bind("click",function(){return v(e)?!1:(t.fieldValidationRequired?nt(t.onAccept):h(t.onAccept),!1)}),o=$(r),o.html(t.declineText),o.attr("class","btn-large "+t.declineColor),o.unbind(),o.bind("click",function(){return v(o)?!1:(h(t.onDecline),!1)}),$('[data-modal-handle="confirmation"] div.Title').text(t.titleText),s=$("[data-modal-handle='confirmation']"),t.imageUrl==null?s.addClass("noImage"):(s.find("img.GenericModalImage").attr("src",t.imageUrl),s.removeClass("noImage")),t.allowHtmlContentInBody?$("[data-modal-handle='confirmation'] div.Message").html(t.bodyContent):$("[data-modal-handle='confirmation'] div.Message").text(t.bodyContent),$.trim(t.footerText)==""?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').hide():$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').show(),t.allowHtmlContentInFooter?$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').html(t.footerText):$('[data-modal-handle="confirmation"] div.ConfirmationModalFooter').text(t.footerText),$("[data-modal-handle='confirmation']").modal(c),l=$("a.genericmodal-close"),l.unbind(),l.bind("click",function(){return h(t.onCancel),!1}),t.xToCancel||l.hide(),t.onOpenCallback()}function a(n){n.hasClass(f)?n.addClass(s):n.hasClass(l)?n.addClass(e):n.hasClass(u)&&n.addClass(o)}function v(n){return n.hasClass(o)||n.hasClass(s)||n.hasClass(e)?!0:!1}function b(){var n=$(i),t=$(r);a(n),a(t)}function g(){var u=$(i),t=$(r),n=o+" "+s+" "+e;u.removeClass(n),t.removeClass(n)}function p(){if(n.isOpen){var t=$(i);t.click()}}function y(){var n=$(r);n.click()}function t(t){n.isOpen=!1,typeof t!="undefined"?$.modal.close(t):$.modal.close()}function h(n){t(),typeof n=="function"&&n()}function nt(n){if(typeof n=="function"){var i=n();if(i!=="undefined"&&i==!1)return!1}t()}var l="btn-primary",u="btn-neutral",f="btn-negative",e="btn-disabled-primary",o="btn-disabled-neutral",s="btn-disabled-negative",d="btn-none",i="#roblox-confirm-btn",r="#roblox-decline-btn",n={isOpen:!1},c={overlayClose:!0,escClose:!0,opacity:80,overlayCss:{backgroundColor:"#000"},onClose:w};return{open:k,close:t,disableButtons:b,enableButtons:g,clickYes:p,clickNo:y,status:n,green:l,blue:u,gray:f,none:d}}()),$(document).keypress(function(n){Roblox.GenericConfirmation.status.isOpen&&n.which===13&&Roblox.GenericConfirmation.clickYes()});

;// utilities/dialog.js
typeof Roblox=="undefined"&&(Roblox={}),typeof Roblox.Dialog=="undefined"&&(Roblox.Dialog=function(){function tt(f){var k,o,v,p,e,b;n.isOpen=!0,k={titleText:"",bodyContent:"",footerText:"",acceptText:Roblox.Resources.Dialog.yes,declineText:Roblox.Resources.Dialog.No,acceptColor:r,declineColor:u,xToCancel:!1,onAccept:function(){return!1},onDecline:function(){return!1},onCancel:function(){return!1},imageUrl:null,showAccept:!0,showDecline:!0,allowHtmlContentInBody:!1,allowHtmlContentInFooter:!1,dismissable:!0,fieldValidationRequired:!1,onOpenCallback:function(){},onCloseCallback:t,cssClass:null,checkboxAgreementText:Roblox.Resources.Dialog.Agree,checkboxAgreementRequired:!1},f=$.extend({},k,f),i.overlayClose=f.dismissable,i.escClose=f.dismissable,f.onCloseCallback&&(i.onClose=function(){f.onCloseCallback(),t()}),o=$(s),o.html(f.acceptText),o.attr("class",f.acceptColor),o.unbind(),o.bind("click",function(){return y(o)?!1:(f.fieldValidationRequired?w(f.onAccept):l(f.onAccept),!1)}),v=$(h),v.html(f.declineText),v.attr("class",f.declineColor),v.unbind(),v.bind("click",function(){return y(v)?!1:(l(f.onDecline),!1)}),p=$(g),p.unbind(),p.bind("change",function(){p.is(":checked")?a(o):c(o)}),e=$('[data-modal-type="confirmation"]'),e.find(".modal-title").text(f.titleText),f.imageUrl==null?e.addClass("noImage"):(e.find("img.modal-thumb").attr("src",f.imageUrl),e.removeClass("noImage")),n.extraClass&&(e.removeClass(n.extraClass),n.extraClass=!1),f.cssClass!=null&&(e.addClass(f.cssClass),n.extraClass=f.cssClass),f.allowHtmlContentInBody?e.find(".modal-message").html(f.bodyContent):e.find(".modal-message").text(f.bodyContent),f.checkboxAgreementRequired?(c(o),e.find(".modal-checkbox.checkbox > input").prop("checked",!1),e.find(".modal-checkbox.checkbox > label").text(f.checkboxAgreementText),e.find(".modal-checkbox.checkbox").show()):(e.find(".modal-checkbox.checkbox > input").prop("checked",!0),e.find(".modal-checkbox.checkbox").hide()),$.trim(f.footerText)==""?e.find(".modal-footer").hide():e.find(".modal-footer").show(),f.allowHtmlContentInFooter?e.find(".modal-footer").html(f.footerText):e.find(".modal-footer").text(f.footerText),e.modal(i),b=$(".modal-header .close"),b.unbind(),b.bind("click",function(){return l(f.onCancel),!1}),f.xToCancel||b.hide(),f.showAccept||o.hide(),f.showDecline||v.hide(),$("#rbx-body").addClass("modal-mask"),f.onOpenCallback()}function c(n){n.hasClass(u)?n.addClass(o):n.hasClass(v)?n.addClass(f):n.hasClass(r)&&n.addClass(e)}function y(n){return n.hasClass(e)||n.hasClass(o)||n.hasClass(f)?!0:!1}function p(){var n=$(s),t=$(h);c(n),c(t)}function a(n){n.hasClass(o)?(n.removeClass(o),n.addClass(u)):n.hasClass(f)?(n.removeClass(f),n.addClass(v)):n.hasClass(e)&&(n.removeClass(e),n.addClass(r))}function b(){var n=$(s),t=$(h);a(n),a(t)}function k(){if(n.isOpen){var t=$(s);t.click()}}function d(){var n=$(h);n.click()}function t(t){n.isOpen=!1,typeof t!="undefined"?$.modal.close(t):$.modal.close(),$("#rbx-body").removeClass("modal-mask")}function l(n){t(),typeof n=="function"&&n()}function w(n){if(typeof n=="function"){var i=n();if(i!=="undefined"&&i==!1)return!1}t()}function it(n,t){var i=$(".modal-body");n?(i.find(".modal-btns").hide(),i.find(".modal-processing").show()):(i.find(".modal-btns").show(),i.find(".modal-processing").hide()),typeof t!="undefined"&&t!==""&&$.modal.close("."+t)}var v="btn-primary-md",r="btn-secondary-md",u="btn-control-md",f="btn-primary-md disabled",e="btn-secondary-md disabled",o="btn-control-md disabled",nt="btn-none",s=".modal-btns #confirm-btn",h=".modal-btns #decline-btn",g="#modal-checkbox-input",n={isOpen:!1},i={overlayClose:!0,escClose:!0,opacity:80,zIndex:1040,overlayCss:{backgroundColor:"#000"},onClose:t,focus:!1};return{open:tt,close:t,disableButtons:p,enableButtons:b,clickYes:k,clickNo:d,status:n,toggleProcessing:it,green:v,blue:r,white:u,none:nt}}()),$(document).keypress(function(n){Roblox.Dialog.isOpen&&n.which===13&&Roblox.Dialog.clickYes()});

;// cookieLawNotice.js
typeof Roblox=="undefined"&&(Roblox={}),$(function(){if(localStorage){var u="Roblox.CookieNoticeUi.CookieLawNoticeShown",t=$(".alert-info"),i=$(".alert-container"),n=$(".alert-cookie-notice"),r=n.data("cookie-notice-timeout");function e(){var n=localStorage.getItem(u);return n===null?!1:n}function o(n){localStorage.setItem(u,n||!1)}function f(r,u){n.is(":visible")&&(r?n.slideUp(function(){t.slideDown()}):(u?i.css("min-height",""):i.css("min-height",n.outerHeight()),n.slideUp()))}function s(){if(!e()){var u=t.is(":visible");u&&(i.css("min-height",t.outerHeight()),t.hide()),n.slideDown(),o(!0),$(".cookie-law-notice-dismiss").click(function(){f(u,!0)}),r||(r=2e4),setTimeout(function(){f(u,!1)},r)}}s()}});

;// TosModalCheck.js
function showTosModal(){Roblox.Dialog.open({titleText:title,bodyContent:body,acceptText:"I AGREE",onAccept:submitTosAgreement,acceptColor:Roblox.Dialog.blue,fieldValidationRequired:!1,dismissable:!1,xToCancel:!1,declineColor:Roblox.Dialog.none,allowHtmlContentInBody:!0})}function submitTosAgreement(){$.ajax({type:"POST",url:agreeUrl,contentType:"application/json; charset=utf-8",success:function(){}})}var title,body,agreeUrl,submitUrl="/UserCheck/show-tos";$(function(){var n=$("#TosAgreementInfo").data("terms-check-needed");$.ajax({type:"GET",url:submitUrl,data:{isLicensingTermsCheckNeeded:n},contentType:"application/json; charset=utf-8",success:function(n){n.partialViewName&&(n.partialViewName==="CaptureTosAgreement_v2"?(title="TERMS OF USE HAVE CHANGED",body='By clicking "I Agree", you are agreeing to the <a href="https://www.roblox.com/info/terms" class="text-link" target="_blank">Terms of Use</a> and <a href="https://www.roblox.com/info/privacy" class="text-link" target="_blank">Privacy Policy</a>.',agreeUrl="/UserCheck/update-tos",showTosModal()):n.partialViewName==="CaptureTosAgreementWithExplicitLicenseClause"&&(title="TERMS OF USE AGREEMENT",body='By clicking "I Agree", you are agreeing to the <a href="https://www.roblox.com/info/terms" class="text-link" target="_blank">Roblox Terms of Use</a>. This includes the license to Roblox of past and future content you provide to the service for our use online, offline, and in tangible items.',agreeUrl="/UserCheck/update-tos-licensing",showTosModal()))},error:function(){}})});

;// AbuseReport/AbuseReportDispatcher.js
var Roblox=Roblox||{};Roblox.AbuseReportDispatcher=function(){var r=!1,i=Roblox.AbuseReportPVMeta,n=function(n,t){n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},u=function(t){var o,u,f,r,e,h;if(typeof t!="string")return!1;if(t=t.toLowerCase(),o=t.split("?"),u=o[0],u&&typeof u=="string"&&(f=u.split("abusereport/")[1]),f&&(r={actionName:f,id:n("id",t),redirectUrl:n("redirecturl",t)},n("conversationid",t)&&(r.conversationId=n("conversationid",t)),n("partyguid",t)&&(r.partyGuid=n("partyguid",t)),r.id&&r.redirectUrl)){var c=$.param(r),s="abusereport/embedded/"+f+"?"+c,l=Roblox.Endpoints.getAbsoluteUrl("/"+s);i.inApp?i.inAppEnabled?(e={urlPath:s,feature:"Abuse Report"},console.debug("Calling navigateToFeature for Hybrid Overlay"),Roblox.wrapErrors?(h=Roblox.wrapErrors.wrap(Roblox.Hybrid.Navigation.navigateToFeature),h(e,function(n){console.debug("navigateToFeature ---- status:"+n)})):Roblox.Hybrid.Navigation.navigateToFeature(e,function(n){console.debug("navigateToFeature ---- status:"+n)})):window.location.href=t:window.location.href=i.phoneEnabled?l:t}},t=function(n){n.preventDefault();var t=$(this).attr("href");t&&u(t)},f=function(){if(!r){$(".abuse-report-modal").click(t);$(".messages-container").on("click",".abuse-report-modal",t);$("#AjaxCommentsContainer").on("click",".abuse-report-modal",t);$("#item-context-menu").on("click",".abuse-report-modal",t);$(".GroupWallPane").on("click",".abuse-report-modal",t);$(".group-details-container").on("click",".abuse-report-modal",t);r=!0}};return{triggerUrlAction:u,initialize:f}}(),$(document).ready(function(){Roblox.AbuseReportDispatcher.initialize()});
